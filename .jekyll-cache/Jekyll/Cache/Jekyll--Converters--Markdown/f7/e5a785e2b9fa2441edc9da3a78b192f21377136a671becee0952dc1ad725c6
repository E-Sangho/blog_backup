I"f<h2 id="9-webpack">9 WEBPACK</h2>

<h3 id="90-introduction-to-webpack">9.0 Introduction to Webpack</h3>
<p>ì´ì „ì— ìš°ë¦¬ëŠ” Babel Nodeë¥¼ ì„¤ì¹˜í–ˆë‹¤. Babel Nodeë¥¼ ì„¤ì¹˜í–ˆê¸° ë•Œë¬¸ì— ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„, NodeJSê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¡œ ë²ˆì—­í•´ì¤¬ë‹¤. ì´ëŠ” ë°±ì—”ë“œì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì´ì—ˆë‹¤. ì§€ê¸ˆë¶€í„° ìš°ë¦¬ëŠ” í”„ë¡ íŠ¸ ì—”ë“œë¶€ë¶„ì„ ë§Œë“¤ê²Œ ëœë‹¤. ê·¸ëŸ°ë° ë¸Œë¼ìš°ì €ì— ë”°ë¼ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— Babel Nodeì˜ ë¸Œë¼ìš°ì € ë²„ì „ì´ í•„ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ Webpackìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¿ë§Œ ì•„ë‹ˆë¼ sassë„ ë¸Œë¼ìš°ì €ì—ì„œ êµ¬ë™í•˜ëŠ” êµ¬í˜• ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ cssë¡œ ë°”ê¿”ì£¼ëŠ” ì¼ì„ í•œë‹¤.</p>

<p>ê·¸ë ‡ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° Webpackì„ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë“œë¬¼ë‹¤. ê·¸ ì´ìœ ëŠ” ëŒ€ë¶€ë¶„ì˜ í”„ë ˆì„ì›Œí¬ê°€ Webpackì„ ì´ë¯¸ í¬í•¨í•˜ê³  ìˆëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ react, vue, svelte, next ë“±ì€ ì´ë¯¸ Webpackì„ í¬í•¨í•˜ê³  ìˆì–´ì„œ ë³„ë„ë¡œ ë‹¤ë£° í•„ìš”ê°€ ì—†ë‹¤. í•˜ì§€ë§Œ Webpackì€ ì—…ê³„ í‘œì¤€ìœ¼ë¡œ ì§ì ‘ ë‹¤ë¤„ë³´ëŠ” ê²ƒë„ ì¤‘ìš”í•œ ê²½í—˜ì´ë‹¤.</p>

<h3 id="91-webpack-configuration-part-one">9.1 Webpack Configuration part One</h3>
<p>ì´ì œ Webpackì„ ì„¤ì¹˜í•´ë³´ì. ìš°ë¦¬ê°€ í•„ìš”í•œ ê²ƒì€ webpackê³¼ webpack-clië¡œ devDependenciesì— ì„¤ì¹˜í•´ì£¼ë ¤ê³  í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">npm i webpack webpack-cli --save -dev</code>ë¡œ ì„¤ì¹˜í•˜ê±°ë‚˜ ì¡°ê¸ˆ ë” ì§§ê²Œ <code class="language-plaintext highlighter-rouge">npm i webpack webpack-cli -D</code>ë¡œ ì„¤ì¹˜í•œë‹¤.</p>

<p>Webpackì„ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œ, webpack.config.jsë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì´ íŒŒì¼ì€ êµ‰ì¥íˆ ì˜¤ë˜ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ë§Œ ì´í•´í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ import, exportë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤ ëŒ€ì‹ ì— require, module.exportsë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>

<p>webpack.config.jsì—ì„œ í•´ì•¼ í•  ì¼ì€ 2ê°€ì§€ë‹¤. ì²« ë²ˆì§¸ëŠ” enrtyë¡œ, entryëŠ” ìš°ë¦¬ê°€ ì²˜ë¦¬í•˜ê³  ì‹¶ì€ íŒŒì¼ë¡œ ë‹¤ì‹œ ë§í•´ ìš°ë¦¬ê°€ ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±í•œ íŒŒì¼ì„ ë§í•œë‹¤. srcí´ë”ì— clientë¼ëŠ” í´ë”ë¥¼ í•˜ë‚˜ ë§Œë“¤ì. ì•ìœ¼ë¡œ ì„œë²„ê°€ ì•„ë‹ˆë¼ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ë  ì½”ë“œ íŒŒì¼ì€ clientì— ë§Œë“¤ê²ƒì´ë‹¤. client ì•ˆì—ëŠ” jsí´ë”ë¥¼ ë§Œë“¤ê³  main.jsë¥¼ ë§Œë“ ë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•´ì£¼ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// main.js
const hello = async () =&gt; {
    alert("Hi its working");
    const x = await fetch("")
}
hello();
</code></pre></div></div>

<p>ìš°ë¦¬ ëª©í‘œëŠ” ì´ íŒŒì¼ì„ Webpackìœ¼ë¡œ ë³´ë‚´ì„œ ëª¨ë“  ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¡œ ë°”ê¿”ì£¼ëŠ” ê²ƒì´ë‹¤. ë‹¤ì‹œ webpack.config.jsë¡œ ëŒì•„ì™€ì„œ module.exports ì•ˆì— ì½”ë“œë¥¼ ì ì–´ì¤˜ì•¼ í•œë‹¤. ìš°ì„  entryëŠ” ìš°ë¦¬ê°€ ë°”ê¾¸ê³  ì‹¶ì€ ì½”ë“œê°€ ì–´ë””ì— ìˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•˜ëŠ”ë°, ì½”ë“œ ìœ„ì¹˜ëŠ” â€œ./src/client/js/mail.jsâ€ê°€ ëœë‹¤. ê·¸ë¦¬ê³  ê²°ê³¼ë¬¼ë¡œ ë‚˜ì˜¬ íŒŒì¼ì„ outputìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤. ìš°ì„ ì€ íŒŒì¼ëª…ê³¼ ì €ì¥ ê²½ë¡œë¥¼ ì ì–´ì£¼ì. <code class="language-plaintext highlighter-rouge">filename: "main"</code>ìœ¼ë¡œ ì ì–´ì£¼ê³ , <code class="language-plaintext highlighter-rouge">path: "./assets/js"</code>ì— ì €ì¥í•´ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
module.exports = {
  entry: "./src/client/js/main.js",
  output: {
    filename: "main.js",
    path: "./assets/js",
  },
};
</code></pre></div></div>

<p>ì´ë ‡ê²Œ ë§Œë“  ì½”ë“œë¥¼ ì‹¤í–‰ì‹œì¼œì¤˜ì•¼ ì‘ë™í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ scriptsë¥¼ ë§Œë“¤í…ë°, ìš°ë¦¬ëŠ” ì´ì „ì— devë¥¼ ë§Œë“¤ì–´ì„œ npm run devë¡œ ê°„ë‹¨íˆ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆë‹¤. ë‹¤ì‹œ ë§í•´ scriptsëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê°„ë‹¨í•œ ëª…ë ¹ì–´ë¥¼ ë§Œë“œëŠ” ì¼ì´ì—ˆë‹¤.  ë§ˆì°¬ê°€ì§€ì˜ ì¼ì„ ì—¬ê¸°ì„œ í•˜ë ¤ê³  í•œë‹¤. scripts ì•„ë˜ì— <code class="language-plaintext highlighter-rouge">"assets": "webpack --config webpack.config.js"</code>ë¥¼ ì‘ì„±í•œë‹¤.</p>

<p>í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•˜ê³  <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¡œ ì‹¤í–‰í•˜ë©´ ì—ëŸ¬ê°€ ë‚˜ì˜¨ë‹¤. outputì˜ pathëŠ” ì ˆëŒ€ê²½ë¡œê°€ ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì—ëŸ¬ë¡œ, Webpack í™ˆí˜ì´ì§€ë¥¼ ë³´ë©´ path.resolve()ë¡œ ì´ë¥¼ í•´ê²°í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë‹¤ìŒì—ëŠ” ì´ë¥¼ ê³ ì¹˜ëŠ” ë²•ì„ ì•Œì•„ë³´ê² ë‹¤.</p>

<h3 id="92-webpack-configuration-part-two">9.2 Webpack Configuration part Two</h3>
<p>ìš°ë¦¬ëŠ” Webpackì— ìƒëŒ€ê²½ë¡œë¥¼ ì…ë ¥í–ˆëŠ”ë°, ì ˆëŒ€ê²½ë¡œë¥¼ ìš”êµ¬í•˜ê³  ìˆë‹¤. í•œ ë²ˆ <code class="language-plaintext highlighter-rouge">console.log(__dirname);</code>ì„ ì‹¤í–‰ì‹œì¼œë³´ì. ê·¸ëŸ¬ë©´ íŒŒì¼ê¹Œì§€ì˜ ê²½ë¡œë¥¼ ë³´ì—¬ì¤€ë‹¤. Webpack í™ˆí˜ì´ì§€ë¥¼ ë³´ë©´ ì´ë¥¼ path.resolve()ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ìˆë‹¤. pathë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ìš°ì„  pathë¥¼ import í•´ì•¼ í•œë‹¤. <code class="language-plaintext highlighter-rouge">const path = require("path");</code>ë¡œ ë¶ˆëŸ¬ì™€ì£¼ê³  <code class="language-plaintext highlighter-rouge">console.log(path.resolve(__dirname, ""))</code>ë¥¼ ì¶œë ¥í•´ë³´ì. ê·¸ëŸ¬ë©´ ì ˆëŒ€ê²½ë¡œê°€ ë¬¸ìì—´ë¡œ ì¶œë ¥ëœë‹¤. ì´ë²ˆì—ëŠ” <code class="language-plaintext highlighter-rouge">console.log(path.resolve(__dirname, "assets", "js"));</code>ë¥¼ ì¶œë ¥í•´ë³´ì. ê·¸ëŸ¬ë©´ ëì— /assets/jsê°€ ë¶™ì€ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì¦‰ path.resolveëŠ” __dirname ë’¤ì— ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²½ë¡œë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ì‚¬ìš©í•´ pathë¥¼ ìˆ˜ì •í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
const path = require("path");

module.exports = {
    entry: "./src/client/js/main.js",
    output: {
        filename: "main.js",
        path: path.resolve(__dirname, "assets", "js"),
    },
};
</code></pre></div></div>

<p>ì´ì œ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œì¼œì„œ ì–´ë–¤ ë³€í™”ê°€ ìƒê²¼ëŠ”ì§€ ë³´ì. ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì—ëŠ” ì—†ë˜, assets í´ë”ê°€ ìƒê¸´ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ì½˜ì†”ì„ ë³´ë©´ <code class="language-plaintext highlighter-rouge">The 'mode' option has not been set</code>ì´ë€ ì—ëŸ¬ê°€ ë‚˜ì˜¨ë‹¤. ì´ëŠ” ë‚˜ì¤‘ì— í™•ì¸í•˜ê¸°ë¡œ í•˜ê³ , ë‹¤ì‹œ assets í´ë”ë¥¼ ë³´ë©´, js í´ë”ì™€ main.js íŒŒì¼ì´ ìƒê²¼ë‹¤. ê·¸ë¦¬ê³  ë‚´ìš©ì„ ë³´ë©´ Webpackì´ ì½”ë“œë¥¼ ì „í™˜ì‹œì¼œ ë¸Œë¼ìš°ì €ë„ ì´í•´í•˜ë„ë¡ ë§Œë“¤ì–´ ë†“ì•˜ë‹¤. í˜„ì¬ëŠ” ë³„ë‹¤ë¥¸ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë‹¨ìˆœíˆ ì••ì¶•í•œ ì½”ë“œë§Œ ì í˜€ìˆë‹¤.</p>

<p>ìš°ë¦¬ëŠ” ë°±ì—”ë“œì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ Babelë¡œ ì²˜ë¦¬í–ˆì—ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ Babelë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” package.jsonì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•˜ê³  webpack.config.jsì—ì„œ í•´ì•¼ í•œë‹¤. ê·¸ëŸ¬ê¸° ìœ„í•´ rulesë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, rulesëŠ” ê° íŒŒì¼ì˜ ì¢…ë¥˜ì— ë”°ë¼ ì–´ë–¤ ì „í™˜ì„ í• ì§€ ê²°ì •í•˜ëŠ” ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ css íŒŒì¼ì„ ë³€í™˜ì‹œí‚¤ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    module: {
        rules: [
            {
                test: /\.css$/i,
                use: ['style-loader', 'css-loader'],
            },
        ],
    },
</code></pre></div></div>

<p>ì´ëŠ” css íŒŒì¼ì„ style-loaderê³¼ css-loaderë¥¼ ì ìš©ì‹œì¼œì„œ ë³€í™˜ ì‹œí‚¨ë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì—¬ê¸°ì„œ loaderë€ Webpack ìš©ì–´ë¡œ ì–´ë–¤ íŒŒì¼ì„ ë°”ê¾¸ëŠ” ë°©ë²•ì„ ë‹´ê³  ìˆë‹¤. ìš°ë¦¬ì˜ ê²½ìš° Babelì„ ë³€í™˜ ì‹œí‚¤ë ¤ëŠ” ê²ƒì´ë¯€ë¡œ babel-loaderì´ í•„ìš”í•˜ë‹¤. ë‹¤ì‹œ ëŒì•„ê°€ì„œ ìš°ë¦¬ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì— babel-loaderë¥¼ rulesì— ì ì–´ì£¼ë ¤ê³  í•œë‹¤. rulesëŠ” ì—¬ëŸ¬ê°€ì§€ë¥¼ ì ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ array í˜•íƒœë¡œ ì‘ì„±ëœë‹¤. ê·¸ë˜ì„œ ì½”ë“œë¥¼ ë³´ë©´ []ì´ ìˆë‹¤. testì—ëŠ” <code class="language-plaintext highlighter-rouge">/\.js$/</code>ê°€ ë“¤ì–´ê°€ë©´ ë˜ê³ , useì—ëŠ” babel-loaderê°€ ë“¤ì–´ê°€ë©´ ëœë‹¤.</p>

<p>ê·¸ë ‡ì§€ë§Œ ì•„ì§ ìš°ë¦¬ëŠ” babel-loaderì´ ì—†ë‹¤. <a href="https://github.com/babel/babel-loader">babel-loader</a>ë¥¼ í™•ì¸í•´ë³´ë©´ babel-loader, @babel/core, @babel/preset-env, webpackì´ í•„ìš”í•˜ë‹¤. ê·¸ëŸ°ë° ìš°ë¦¬ëŠ” ë‚˜ë¨¸ì§€ëŠ” ë‹¤ ì„¤ì¹˜í–ˆê³  babel-loaderë§Œ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">npm i babel-loader -D</code>ë¡œ babel-loaderë§Œ ì„¤ì¹˜í•˜ì. ê·¸ë¦¬ê³  babel-loaderë¥¼ ì‚¬ìš©í•˜ëŠ” ë²•ì€ ìœ„ ì‚¬ì´íŠ¸ì—ì„œ ê·¸ëŒ€ë¡œ ì˜®ê²¨ì™€ì¤¬ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
const path = require("path");

module.exports = {
    entry: "./src/client/js/main.js",
    output: {
        filename: "main.js",
        path: path.resolve(__dirname, "assets", "js"),
    },
    module: {
        rules: [
            {
                test: /\.js$/,
                use: {
                    loader: 'babel-loader',
                    options: {
                        presets: [
                            ['@babel/preset-env', { targets: "defaults" }]
                        ],
                    },
                },
            },
        ],
    },
};
</code></pre></div></div>

<p>ì´ë ‡ê²Œí•˜ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ babel-loaderë¼ëŠ” loaderë¡œ ì „í™˜í•˜ëŠ”ë°, Webpackì€ node-modulesì—ì„œ babel-loaderë¥¼ ì°¾ê³ , ëª‡ ê°€ì§€ ì˜µì…˜ì„ ì ìš©ì‹œì¼œì¤€ë‹¤. ì´ë ‡ê²Œ í•˜ê³  ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ ì‹¤í–‰ì‹œì¼œë³´ì. ê·¸ë¦¬ê³  assets/js í´ë”ì—ì„œ main.jsíŒŒì¼ì„ ë³´ë©´ ì½”ë“œê°€ ìƒë‹¹íˆ ë°”ë€Œì—ˆë‹¤. ì´ëŠ” ëª¨ë‘ babelì—ì„œ í•œ ê²ƒìœ¼ë¡œ, ìš°ë¦¬ê°€ ì›í•œëŒ€ë¡œ babelë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë³€í™”ì‹œì¼°ë‹¤.</p>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ mode ë¬¸ì œë¥¼ í•´ê²°í•´ë³´ì. ìš°ë¦¬ëŠ” Webpackì—ê²Œ ìš°ë¦¬ê°€ ê°œë°œì¤‘(development)ì¸ì§€, ì½”ë“œë¥¼ ì™„ì„±(production)í•œ ê²ƒì¸ì§€ ì•Œë ¤ì¤˜ì•¼ í•œë‹¤. modeë¥¼ ì„¤ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ Webpackì€ production modeë¡œ ì„¤ì •ëœë‹¤. ê·¸ë¦¬ê³  Webpackì€ ì½”ë“œë¥¼ í•œ ì¤„ë¡œ ì••ì¶•í•˜ê²Œ ë˜ëŠ”ë°, ê°œë°œì¤‘ì—ëŠ” ì´ë ‡ê²Œ í•˜ë©´ ë³´ê¸° ë¶ˆí¸í•˜ë‹¤. ìš°ë¦¬ëŠ” ì•„ì§ ê°œë°œì¤‘ì´ë¯€ë¡œ module.exportsì— mode: â€œdevelopmentâ€,ë¥¼ ì¶”ê°€í•˜ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
const path = require("path");

module.exports = {
    entry: "./src/client/js/main.js",
    // add mode here
    mode: "development",
    output: {
        ...
    },
};
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ ì‹¤í–‰í•˜ê³  main.jsë¥¼ ë³´ë©´ ì¢€ ë” ë³´ê¸° ì‰½ê²Œ ë°”ë€Œì—ˆë‹¤. ê°œë°œì¤‘ì—ëŠ” modeë¥¼ developmentë¡œ ìœ ì§€í•˜ê³  ì™„ë£Œë˜ë©´ productionìœ¼ë¡œ ë°”ê¿”ì£¼ë©´ ëœë‹¤.</p>

<h3 id="93-webpack-configuration-part-three">9.3 Webpack Configuration part Three</h3>
<p>client í´ë”ëŠ” ìš°ë¦¬ê°€ ì½”ë“œë¥¼ ì‘ì„±í•  í´ë”ê³ , assetsëŠ” ë¸Œë¼ìš°ì €ê°€ ì½ì–´ë‚¼ íŒŒì¼ì´ ìˆëŠ” í´ë”ë‹¤. ê·¸ëŸ°ë° Expressì—ê²ŒëŠ” assets í´ë”ë‚˜, main.js íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ ëª¨ë¥¸ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ Expressì—ì„œ ì € í´ë”ë“¤ì„ ì½ì„ ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤. ì´ì „ì— ì´ì™€ ë™ì¼í•œ ì¼ì„ uploads í´ë”ì— ì§„í–‰í–ˆì—ˆëŠ”ë°, server.jsì—ì„œ ê³ ì³ì¤¬ì—ˆë‹¤. server.jsë¡œ ì´ë™í•´ì„œ <code class="language-plaintext highlighter-rouge">app.use("/assets", express.static("assets"));</code>ë¡œ assets í´ë”ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server.js
...
app.use("/uploads", express.static("uploads"));
// use assets with /static url
app.use("/static", express.static("assets"));
app.use("/", rootRouter);
...
</code></pre></div></div>
<p>ì´ì œ clint í´ë”ì˜ main.jsë¡œ ì´ë™í•´ì„œ ì½”ë“œë¥¼ <code class="language-plaintext highlighter-rouge">alert("hi")</code>ë¡œ ê³ ì³ë³´ì. ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¡œ ì½”ë“œë¥¼ ë§Œë“ ë‹¤. ë‹¤ìŒìœ¼ë¡œ ì´ ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡, base.pugë¡œ ì´ë™í•´ì„œ ì œì¼ ì•„ë˜ì— <code class="language-plaintext highlighter-rouge">script(src="/assets/js/main.js")</code>ë¥¼ ì…ë ¥í•˜ì. ê·¸ë¦¬ê³  ì„œë²„ë¥¼ ì‹¤í–‰í•´ì„œ í™”ë©´ì— ë“¤ì–´ê°€ë©´ ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// base.pug
...
    include partials/footer
    // add script
    script(src="/assets/js/main.js")
</code></pre></div></div>

<h3 id="94-scss-loader">9.4 SCSS Loader</h3>
<p>ì§€ê¸ˆê¹Œì§€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì²˜ë¦¬í•˜ëŠ” ë²•ì„ ì•Œì•„ë´¤ë‹¤. ì´ë²ˆì—ëŠ” cssë¥¼ ë³€í™˜í•˜ëŠ” ë²•ì„ ì•Œì•„ë³´ì. scss íŒŒì¼ì„ ë³€í™˜í•˜ê¸° ìœ„í•´ì„œëŠ” loaderì´ 3ê°œ í•„ìš”í•œë°, sass-loader, css-loader, style-loaderì´ë‹¤. sass-loaderëŠ” scss íŒŒì¼ì„ ê°€ì ¸ë‹¤ê°€ css íŒŒì¼ë¡œ ì „í™˜ì‹œí‚¨ë‹¤. <code class="language-plaintext highlighter-rouge">npm i sass-loader sass -D</code>ë¡œ ì„¤ì¹˜í•´ì¤€ë‹¤. css-loaderëŠ” @importì™€ url()ì„ í•´ì„í•´ì¤€ë‹¤. <code class="language-plaintext highlighter-rouge">npm i css-loader -D</code>ë¡œ ì„¤ì¹˜í•˜ì. ë§ˆì§€ë§‰ìœ¼ë¡œ style-loaderì€ cssë¥¼ DOMì— ì£¼ì…í•œë‹¤. <code class="language-plaintext highlighter-rouge">npm i style-loader -D</code>ë¡œ ì„¤ì¹˜í•œë‹¤. ì´ë ‡ê²Œí•˜ë©´ í•„ìš”í•œ ê²ƒì€ ëª¨ë‘ ì„¤ì¹˜í•´ì¤¬ë‹¤.</p>

<p>ë‹¤ìŒìœ¼ë¡œ loaderë¥¼ ì ìš©ì‹œì¼œì•¼ í•œë‹¤. loaderë¥¼ ì ìš©ì‹œí‚¤ëŠ” ê²ƒì€ ë§ˆì§€ë§‰ ê²ƒë¶€í„° ì ìš©ì‹œì¼œì•¼ í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ style/css/sass ìˆœì„œë¡œ ì ì–´ì¤˜ì•¼ í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js

module.exports = {
    module: {
        rules: [
            {
                ...
            },
            {
                test: /\.scss$/,
                use: ["style-loader", "css-loader", "sass-loader"],
            },
        ],
    },
};
</code></pre></div></div>

<p>cssê°€ ì˜ ì ìš©ë˜ëŠ”ì§€ ë³´ê¸° ìœ„í•´ ê°„ë‹¨íˆ íŒŒì¼ì„ ë§Œë“ ë‹¤. client í´ë” ì•ˆì— scssë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ê³ , ê·¸ ì•ˆì— style.scss, _variables.scss íŒŒì¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤. ê·¸ë¦¬ê³  ë‹¤ìŒì²˜ëŸ¼ ë§Œë“ ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// style.scss
@import "./_variables.scss";
body {
    background-color: $red;
    color: white;
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// _variable.scs
$red: red
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  main.jsì— ì•„ë˜ì²˜ëŸ¼ ì ëŠ”ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// main.js
import "../scss/styles.scss";
console.log("hi");
</code></pre></div></div>

<p>ì´ë ‡ê²Œí•˜ê³  ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë¶‰ì€ìƒ‰ í™”ë©´ì´ ë‚˜ì˜¤ê³ , ë¸Œë¼ìš°ì €ì˜ ì½˜ì†”ì„ ë³´ë©´ hiê°€ ì¶œë ¥ëœ. ê·¸ë ‡ë‹¤ë©´ ì½”ë“œëŠ” ì •í™•íˆ ì–´ë–»ê²Œ ì‹¤í–‰ë˜ëŠ” ê²ƒì¼ê¹Œ? ì´ëŠ” webpack.config.js íŒŒì¼ì„ ì½ì–´ë³´ë©´ ì•Œ ìˆ˜ ìˆë‹¤. ë¨¼ì € main.js íŒŒì¼ì„ ê°€ì ¸ì™€ì„œ ë°”ë²¨ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë²ˆì—­í•œë‹¤. ê·¸ë¦¬ê³  main.jsì— scss íŒŒì¼ì´ ì†í•´ ìˆìœ¼ë¯€ë¡œ sass-loaderì„ ì‚¬ìš©í•´ cssë¡œ ë²ˆì—­í•œë‹¤. ê·¸ë¦¬ê³  css-loaderë¥¼ ì‚¬ìš©í•´ @import, url()ì„ í•´ì„í•œë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ style-loaderë¥¼ ì ìš©ì‹œì¼œì„œ ë¸Œë¼ìš°ì €ê°€ ì½ì„ ìˆ˜ ìˆëŠ” cssë¡œ ë°”ê¿”ì¤€ë‹¤.</p>

<h3 id="95-minicssextractplugin">9.5 MiniCssExtractPlugin</h3>
<p>ìš°ë¦¬ê°€ ì§€ê¸ˆê¹Œì§€ ì‘ì—…í•œ ê²ƒì— í•œ ê°€ì§€ ë¬¸ì œê°€ ìˆë‹¤. ë°”ë¡œ css ì½”ë“œê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ ì•ˆì— ë“¤ì–´ ìˆë‹¤ëŠ” ì ì´ë‹¤. ë³´í†µì€ ì›¹í˜ì´ì§€ë¥¼ ë§Œë“¤ ë•Œ, css, ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶„ë¦¬í•´ì„œ ë§Œë“ ë‹¤. ì´ëŠ” cssê°€ ë¨¼ì € ì‹¤í–‰ë˜ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ë„ë¡ í•´ì„œ, í™”ë©´ì´ ë°”ë¡œ ë‚˜ì˜¤ê²Œ í•˜ê³  ì‹¶ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ°ë° ìš°ë¦¬ê°€ ë§Œë“  ê²ƒì€ cssê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì•ˆì— ìˆì–´ì„œ ë¡œë”©ì„ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤. ì´ëŠ” style-loader ë•Œë¬¸ì´ë¯€ë¡œ ì´ë¥¼ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ êµì²´í•´ì¤˜ì•¼ í•œë‹¤.</p>

<p>ê·¸ëŸ¬ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ <a href="https://webpack.js.org/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a>ì´ë‹¤. <code class="language-plaintext highlighter-rouge">npm install --save-dev mini-css-extract-plugin</code>ë¡œ ì„¤ì¹˜í•´ì¤€ë‹¤. ê·¸ë¦¬ê³  webpack.config.jsë¥¼ ì•„ë˜ì²˜ëŸ¼ ìˆ˜ì •í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
const MiniCssExtractPlugin = require("mini-css-extract-plugin");

module.exports = {
    // add plugins
    plugins: [new MiniCssExtractPlugin()],
    outputs: {
        ...
    },
    module: {
        rules: [
        {
            ...

        {
            test: /\.scss$/,
            use: [MiniCssExtractPlugin.loader, "css-loader", "sass-loader"],
        },
        ],
    },
};
</code></pre></div></div>

<p>ì´í›„ì— <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ ì‹¤í–‰í•˜ë©´ main.jsì™¸ì— main.cssê°€ ìƒê²¼ê³ , ê·¸ ì•ˆì— css ì½”ë“œê°€ ë“¤ì–´ìˆë‹¤. ê·¸ëŸ°ë° ë¬¸ì œëŠ” main.cssê°€ js í´ë” ì•ˆì— ìˆë‹¤ëŠ” ì ì´ë‹¤. ê·¸ë˜ì„œ outputì„ ì‚´ì§ ìˆ˜ì •í•˜ë ¤ê³  í•œë‹¤. í˜„ì¬ ìš°ë¦¬ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
module.exports = {
    plugins: [new MiniCssExtractPlugin()],
    output: {
        filename: "main.js",
        path: path.resolve(__dirname, "assets", "js"),
    },
    ...
</code></pre></div></div>

<p>ì—¬ê¸°ì„œ ìš°ë¦¬ íŒŒì¼ì´ jsì— ìƒê¸°ëŠ” ì´ìœ ëŠ” path ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ pathë¥¼ <code class="language-plaintext highlighter-rouge">path: path.resolve(__dirname, "assets"),</code>ë¡œ ìˆ˜ì •í•´ë³´ì. ê·¸ë¦¬ê³  ë‹¤ì‹œ ì½”ë“œë¥¼ ì‹¤í–‰í•´ì•¼ í•˜ëŠ”ë°, ê·¸ ì „ì— assets í´ë”ë¥¼ ì‚­ì œí•˜ê³  ì‹¤í–‰í•´ì•¼ í•œë‹¤. ì´í›„ì—ë„ ê²½ë¡œê°€ ìˆ˜ì •ë˜ë©´ íŒŒì¼ì˜ ì €ì¥ ìœ„ì¹˜ê°€ ë°”ë€Œë¯€ë¡œ, ì´ì „ íŒŒì¼ì´ ë‚¨ì„ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê²½ë¡œë¥¼ ë°”ê¿€ ë•Œ ë§ˆë‹¤ í´ë”ë¥¼ ì‚­ì œí•´ì•¼ ì›í•˜ëŠ”ëŒ€ë¡œ íŒŒì¼ì´ ìƒì„±ëœë‹¤. assets í´ë”ë¥¼ ì§€ìš°ê³  <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ ì‹¤í–‰í•˜ë©´ assets í´ë” ì•ˆì— main.js, main.cssê°€ ìƒê²¼ë‹¤.</p>

<p>ë‹¤ìŒìœ¼ë¡œ ìš°ë¦¬ëŠ” js íŒŒì¼ì„ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ ë„£ì–´ë³´ê² ë‹¤. ì´ëŠ” outputì˜ filenameì„ ìˆ˜ì •í•˜ë©´ ëœë‹¤. main.jsë¥¼ js/main.jsë¡œ ë°”ê¿”ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
module.exports = {
    plugins: [new MiniCssExtractPlugin()],
    output: {
        filename: "js/main.js",
        path: path.resolve(__dirname, "assets"),
    },
</code></pre></div></div>

<p>ì´ë ‡ê²Œ í•˜ë©´ js í´ë”ì— main.jsê°€ ìƒê¸´ë‹¤. ë‹¤ìŒìœ¼ë¡œ cssë¥¼ í´ë” ì•ˆì— ë„£ì–´ ì¤˜ì•¼ í•œë‹¤. ì´ëŠ” MiniCssExtractPluginì˜ í˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ë©´ filenameì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì´ ìˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
module.exports = {
    plugins: [
        new MiniCssExtractPlugin({
            filename: "css/style.css",
        }),
    ],
    output: {
        filename: "js/main.js",
        path: path.resolve(__dirname, "assets"),
    },
</code></pre></div></div>

<p>ìµœì¢…ì ìœ¼ë¡œ webpack.config.js íŒŒì¼ì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
const MiniCssExtractPlugin = require("mini-css-extract-plugin");
const path = require("path");

module.exports = {
  entry: "./src/client/js/main.js",
  mode: "development",
  plugins: [
    new MiniCssExtractPlugin({
      filename: "css/styles.css",
    }),
  ],
  output: {
    filename: "js/main.js",
    path: path.resolve(__dirname, "assets"),
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        use: {
          loader: "babel-loader",
          options: {
            presets: [["@babel/preset-env", { targets: "defaults" }]],
          },
        },
      },
      {
        test: /\.scss$/,
        use: [MiniCssExtractPlugin.loader, "css-loader", "sass-loader"],
      },
    ],
  },
};
</code></pre></div></div>

<p>ì´ì œ pugì—ì„œ css íŒŒì¼ì„ ì—°ê²°í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤. base.pugë¡œ ì´ë™í•´ì„œ ì•„ë˜ì²˜ëŸ¼ ì ì–´ì£¼ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// base.pug
doctype html
html(lang="ko")
    head
        ...
        link(rel="stylesheet" href="/assets/css/style.css")
    ...
</code></pre></div></div>

<h3 id="96-better-deveolper-experience">9.6 Better Deveolper Experience</h3>
<p>ë§¤ë²ˆ scssë‚˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë°”ë€” ë•Œë§ˆë‹¤, assets í´ë”ë¥¼ ì‚­ì œí•˜ëŠ”ê±´ ë²ˆê±°ë¡­ë‹¤. ê²Œë‹¤ê°€ scssë‚˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒë„ í•˜ê³  ì‹¶ì§€ ì•Šë‹¤. ê·¸ë˜ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ cleanê³¼ watchë‹¤. webpack.config.jsì— ë‹¤ìŒì„ ì¶”ê°€í•´ì£¼ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js
...
module.exports = {
    entry: "./src/client/js/main.js",
    mode: "development",
    // add watch
    watch: true,
    ...
    outpus: {
        filename: "js/main.js",
        path: path.resolve(__dirname, "assets"),
        // add clean
        clean: true,
    }
};
</code></pre></div></div>

<p>cleanì€ output í´ë”ë¥¼ ë¹Œë“œí•˜ê¸° ì „ì— ë¹„ì›Œì£¼ëŠ” ì¼ì„ í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìš°ë¦¬ê°€ íŒŒì¼ì„ ìƒˆë¡œ ë¹Œë“œí•  ë•Œ, í´ë”ë¥¼ ì¼ì¼ì´ ì§€ì›Œì¤„ í•„ìš”ê°€ ì—†ë‹¤.</p>

<p>watch: trueë¥¼ ì¶”ê°€í•˜ê³ , <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ ì‹¤í–‰í•˜ë©´ ëª…ë ¹ì–´ê°€ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¤ì‹œ ë§í•´ ì½”ë“œê°€ ìƒˆë¡œ ì €ì¥ë˜ì–´ë„ ì¼ì¼ì´ <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ ì…ë ¥í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ì½˜ì†”ì„ 2ê°œ ì‚¬ìš©í•˜ê³  ìˆë‹¤. í•˜ë‚˜ëŠ” serverë¥¼ ë‹¤ë£¨ëŠ” ì½˜ì†”ì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” client íŒŒì¼ë“¤ì„ watchí•˜ëŠ” ì½˜ì†”ì´ë‹¤. ë‘˜ì„ ë‚˜ëˆ ì„œ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">npm run dev</code>ì™€ <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¥¼ 2ê°œì˜ ì½˜ì†”ì— ê°ê° ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë§Œì•½ í•˜ë‚˜ë§Œ ì‹¤í–‰í•  ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•˜ê±°ë‚˜ ì›í•˜ëŠ” ëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<p>ê·¸ëŸ°ë° ì´ ê²½ìš° í”„ë¡ íŠ¸ì—”ë“œë§Œ ìˆ˜ì •í–ˆëŠ”ë°ë„ ë°±ì—”ë“œê°€ ì¬ì‹œì‘ëœë‹¤. ì´ëŠ” webpack.config.jsê°€ ì €ì¥ë  ë•Œ, nodemonì´ íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ì¤„ ì•Œê³  ì¬ì‹œì‘í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ nodemonì—ê²Œ ëª‡ ê°€ì§€ íŒŒì¼ì´ë‚˜ í´ë”ë¥¼ ë¬´ì‹œí•˜ë„ë¡ ë§Œë“¤ì–´ì£¼ì. ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤. package.jsonì—ì„œ ì§ì ‘ ì˜µì…˜ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ê³¼, ë³„ë„ë¡œ íŒŒì¼ì„ ë§Œë“œëŠ” ë°©ë²•ì´ë‹¤. ì˜µì…˜ì´ ê°„ë‹¨í•˜ë‹¤ë©´ package.jsonì—ì„œ ì§ì ‘ ì¶”ê°€í•´ì¤˜ë„ ëœë‹¤. ê·¸ë ‡ì§€ë§Œ ì½”ë“œê°€ ê¸¸ì–´ì§„ë‹¤ë©´ ë”°ë¡œ íŒŒì¼ì„ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤. ìš°ë¦¬ëŠ” íŒŒì¼ì„ í•˜ë‚˜ ìƒì„±í•˜ë„ë¡ í•œë‹¤.</p>

<p>nodemonì€ ë‹¤í–‰íˆë„ ì„¤ì • íŒŒì¼ì„ ì§€ì›í•œë‹¤. nodemon.json íŒŒì¼ì— ì„¤ì •ì„ ì €ì¥í•˜ë©´ ì´ë¥¼ ì•Œì•„ì„œ ì¸ì‹í•œë‹¤. nodemon.json íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ì²˜ëŸ¼ ì¶”ê°€í•´ì£¼ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// nodemon.json
{
    "ignore": ["webpack.config.js", "src/client/*", "assets/*"],
    "exec": "babel-node src/init.js"

}
</code></pre></div></div>

<p>ì´ë ‡ê²Œ í•˜ë©´ webpack.config.js íŒŒì¼ì„ ë¬´ì‹œí•˜ê³ , src/clientë‚˜ assets í´ë” ì•ˆì˜ ëª¨ë“  íŒŒì¼ì„ ë¬´ì‹œí•˜ê²Œ ëœë‹¤. ì•„ë˜ì˜ execëŠ” ì›ë˜ scriptsì˜ â€œdevâ€ì— ìˆë˜ ì„¤ì •ì„ ì˜®ê²¨ì¤€ ê²ƒì´ë‹¤. ì„¤ì • íŒŒì¼ì„ ìƒˆë¡œ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ ì„¤ì •ì„ nodemon.json íŒŒì¼ì— ëª¨ì•„ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ì„œ package.jsonë„ ì•„ë˜ì²˜ëŸ¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// package.json
...
    "scripts": {
        "dev": "nodemon",
        ...
    },
</code></pre></div></div>

<p>ì´ì œ nodemonë§Œ í˜¸ì¶œí•˜ë©´ ìë™ìœ¼ë¡œ nodemon.jsonì˜ ì„¤ì •ì„ í˜¸ì¶œí•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì½˜ì†”ì—ì„œ nodemonë§Œ ì…ë ¥í•´ë„ ì„œë²„ê°€ ì‹œì‘ëœë‹¤.</p>

<p>ì´ë ‡ê²Œ ì„¤ì •í•˜ê³  webpack.config.js íŒŒì¼ì„ ì €ì¥í•˜ë”ë¼ë„ ì„œë²„ê°€ ì¬ì‹œì‘ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<p>ì¶”ê°€ë¡œ scriptsì˜ â€œassetsâ€ë„ ìˆ˜ì •í•´ë³´ì. <code class="language-plaintext highlighter-rouge">"assets": "webpack --config webpack.config.js"</code>ì—ì„œ ë’· ë¶€ë¶„ì„ ì§€ì›Œì„œ <code class="language-plaintext highlighter-rouge">"assets": "webpack"</code>ë¡œ ë§Œë“  ë‹¤ìŒ ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">npm run assets</code>ë¡œ webpackì„ ì‹¤í–‰í•´ë³´ì. ì‹ ê¸°í•˜ê²Œë„ ì½”ë“œê°€ ê·¸ëŒ€ë¡œ ë™ì‘í•œë‹¤. ì´ëŠ” nodemonê³¼ ë§ˆì°¬ê°€ì§€ë¡œ webpack.config.js ì—­ì‹œ Webpackì´ ì‹¤í–‰ë  ë•Œ, ê¸°ë³¸ì ìœ¼ë¡œ ì°¾ëŠ” ì„¤ì • íŒŒì¼ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì¶”ê°€ì ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì•„ë˜ì²˜ëŸ¼ ìˆ˜ì •í•˜ê³  ëì„ ë‚´ê² ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// package.json
...
  "scripts": {
    "dev:server": "nodemon",
    "dev:assets": "webpack"
  },
</code></pre></div></div>

<p>ì•ìœ¼ë¡œëŠ” ë°±ì—”ë“œë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ <code class="language-plaintext highlighter-rouge">npm run dev:server</code>ë¥¼ ì…ë ¥í•˜ê³ , Webpackì„ ì‹¤í–‰í•  ë•ŒëŠ” <code class="language-plaintext highlighter-rouge">npm run dev:assets</code>ë¥¼ ì…ë ¥í•˜ë©´ ëœë‹¤.</p>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ assetsí´ë”ë¥¼ ì—…ë¡œë“œí•  ì´ìœ ê°€ ì—†ìœ¼ë¯€ë¡œ, assets í´ë”ë¥¼ .gitignoreì— ì¶”ê°€í•´ì•¼ í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// .gitignore
/node_modules
.env
/uploads
.DS_Store
/assets
</code></pre></div></div>

<h3 id="97-recap">9.7 Recap</h3>
:ET
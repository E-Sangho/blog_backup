I"8›<h2 id="11-video-player">11 VIDEO PLAYER</h2>

<h3 id="110-player-setup">11.0 Player Setup</h3>
<p>ì§€ê¸ˆê¹Œì§€ ìš°ë¦¬ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ê¸°ë³¸ ì œê³µí•˜ëŠ” ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ë¥¼ ì‚¬ìš©í–ˆë‹¤. ë‚˜ì˜ì§„ ì•Šì§€ë§Œ, ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ì„ ì ìš©í•  ìˆ˜ê°€ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì§ì ‘ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ë¥¼ ë§Œë“¤ì–´ì„œ ìŠ¤íƒ€ì¼ì„ ì ìš©ì‹œí‚¤ê² ë‹¤.</p>

<p>ì ì‹œ Webpack ì½”ë“œë¥¼ ê¸°ì–µí•´ë³´ì. ìš°ë¦¬ê°€ ë§Œë“  main.jsì˜ ì½”ë“œëŠ” í˜„ì¬ base.pugì—ì„œ ë¶ˆëŸ¬ì˜¤ê³  ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ëª¨ë“  í˜ì´ì§€ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ê°€ì ¸ë‹¤ ì“°ê³  ìˆë‹¤. ê·¸ëŸ°ë° ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ ì½”ë“œë¥¼ ë§Œë“ ë‹¤ë©´, ëª¨ë“  í˜ì´ì§€ì—ì„œ ë¶ˆëŸ¬ì˜¤ê²Œ ëœë‹¤. í•˜ì§€ë§Œ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ ì½”ë“œëŠ” ë¹„ë””ì˜¤ê°€ ë™ì‘í•˜ëŠ” ê³³ì—ì„œë§Œ í•„ìš”í•œ ì½”ë“œì´ë¯€ë¡œ ì´ëŠ” ë‚­ë¹„ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë‹¤ë¥¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ í•„ìš”í•œ í˜ì´ì§€ì—ë§Œ ë¡œë“œí•´ì•¼ í•œë‹¤.</p>

<p>ì§€ê¸ˆ webpack.config.js íŒŒì¼ì„ ë³´ë©´ í•˜ë‚˜ì˜ entry ë¿ì´ì§€ë§Œ ì´ëŠ” ë°”ê¿€ ìˆ˜ ìˆë‹¤. ê·¸ì „ì— src/client/js/videoPlayer.js íŒŒì¼ì„ ë§Œë“ ë‹¤. ê·¸ë¦¬ê³  ì´ íŒŒì¼ì„ webpack.config.jsì—ì„œ ë¶ˆëŸ¬ì™€ì•¼ í•œë‹¤. webpack.config.js íŒŒì¼ì—ì„œ ì½”ë“œë¥¼ ì•„ë˜ì²˜ëŸ¼ ìˆ˜ì •í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js

module.exports = {
    entry: {
        main: "./src/client/js/main.js",
        // add videoPlayer here
        videoPlayer: "./src/client/js/videoPlayer.js",
    },
    ...
}
</code></pre></div></div>

<p>í•˜ì§€ë§Œ ì´ë ‡ê²Œë§Œ ìˆ˜ì •í•˜ë©´ outputì—ì„œ filenameì„ í•˜ë‚˜ë¡œ ì§€ì •í•´ì¤¬ê¸° ë•Œë¬¸ì—, íŒŒì¼ì´ í•©ì³ì§€ê²Œ ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìƒì„±ë˜ëŠ” íŒŒì¼ì„ ì´ë¦„ìœ¼ë¡œ ë‚˜ëˆ ì•¼ í•˜ëŠ”ë°, filenameì— ì˜µì…˜ì„ ì£¼ëŠ” ê²ƒìœ¼ë¡œ ì´ë¥¼ ê³ ì¹  ìˆ˜ ìˆë‹¤. Webpackì—ì„œ <code class="language-plaintext highlighter-rouge">[name]</code>ì„ ì ì–´ì£¼ë©´ entryì— ìˆëŠ” íŒŒì¼ ì´ë¦„ì„ ê°€ì ¸ê°€ì„œ ë§Œë“¤ì–´ì¤€ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì½”ë“œëŠ” ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// webpack.config.js

module.exports = {
    ...
    output: {
        filename: "js/[name].js",
        ...
    }
}
</code></pre></div></div>

<p>ì´ì œ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ê°€ í•„ìš”í•œ íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì™€ì¤˜ì•¼ í•œë‹¤. ê·¸ëŸ°ë° base.pugë¥¼ ë³´ë©´ ë³„ë„ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë„£ì„ ë¸”ë¡ì„ ë§Œë“¤ì–´ì£¼ì§€ ì•Šì•˜ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì œì¼ ë§ˆì§€ë§‰ ì¤„ì— <code class="language-plaintext highlighter-rouge">block scripts</code>ë¡œ ë¸”ë¡ì„ í•˜ë‚˜ ë§Œë“¤ì–´ ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// base.pug
...
    block scripts
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  watch.pugì— ê°€ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ë„£ì–´ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// watch.pug

block scripts
    script(src="/assets/js/videoPlayer.js")
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  ì½”ë“œë¥¼ ë§Œë“¤ê¸° ì „ì— watch.pugì˜ ë‹¤ë¥¸ ì½”ë“œë“¤ì€ ì£¼ì„ì²˜ë¦¬í•´ì£¼ê² ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// watch.pug
block content
    video(src="/" + video.fileUrl, controls)
    //
        div 
            p=video.description
            small=video.createdAt 
            small Uploaded by 
                a(href=`/users/${video.owner._id}`)=video.owner.name 
        if String(video.owner._id) === String(loggedInUser._id)
            a(href=`${video.id}/edit`) Edit Video &amp;rarr;
            br
            a(href=`${video.id}/delete`) Delete Video &amp;rarr;
    script(src="/assets/js/videoPlayer.js")
</code></pre></div></div>

<p>ì´ì œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ ì¤€ë¹„ê°€ ë‹¤ ë˜ì—ˆë‹¤.</p>

<h3 id="111-play-pause">11.1 Play Pause</h3>
<p>ìš°ì„  í•„ìš”í•  ê²ƒ ê°™ì€ ë²„íŠ¼ê³¼ ê¸°ëŠ¥ì„ ëª¨ë‘ ë§Œë“¤ì–´ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// watch.pug
block content
    video(src="/" + video.fileUrl, controls)
    div
        button#play Play
        button#mute Mute
        input(type="range", step="0.1", value=0.5, min="0", max = "1")#volume
        div
            span#currentTime 00:00
            span  / 
            span#totalTime 00:00
        div
            input(type="range", step="1", value=0, min="0")#timeline
        div
            button#fullscreen Enter Full Screen
</code></pre></div></div>

<p>ê·¸ëŸ°ë° css ë•Œë¬¸ì— inputì´ ì§€ë‚˜ì¹˜ê²Œ í¬ê²Œ ë‚˜ì˜¨ë‹¤. ê·¸ë˜ì„œ forms.scssë„ ì¡°ê¸ˆ ìˆ˜ì •í•´ì¤˜ì•¼ í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// form.scss
input:not(input[type="range"]) {
    ...
}
</code></pre></div></div>

<p>ì´ì œ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ì— ì“°ì¼ ë²„íŠ¼ì„ ë§Œë“¤ì–´ë³´ì. ë¹„ë””ì˜¤ë‚˜ ë²„íŠ¼ì€ getElementById()ë¡œ ê°„ë‹¨íˆ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ë‹¤ìŒìœ¼ë¡œ ì´ë“¤ì„ ë‹¤ë£° í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ìš°ì„ ì€ Play ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë¹„ë””ì˜¤ê°€ ì¬ìƒë˜ê³  êº¼ì§€ê²Œ í•˜ë ¤ê³  í•œë‹¤. ì´ë•Œ, í•„ìš”í•œ ê²ƒì´ ì–´ë–»ê²Œ ë¯¸ë””ì–´ë¥¼ ë‹¤ë£°ì§€ë‹¤. <a href="https://developer.mozilla.org/ko/docs/Web/API/HTMLMediaElement">HTMLMediaElement</a>ë¥¼ ë³´ë©´ .pausedë¡œ ë¯¸ë””ì–´ì˜ ì¼ì‹œ ì •ì§€ ì—¬ë¶€ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤ê³  ë‚˜ì™€ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ video.pausedì˜ ê²°ê³¼ì— ë”°ë¼ ë¹„ë””ì˜¤ë¥¼ ì¬ìƒì‹œí‚¤ê±°ë‚˜ ë©ˆì¶”ë©´ ëœë‹¤. ë¹„ë””ì˜¤ë¥¼ ì¬ìƒì‹œí‚¤ê±°ë‚˜ ì •ì§€ì‹œí‚¤ë ¤ë©´ video.play(), video.pause()ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const video = document.getElementById("video")
const playBtn = document.getElementById("play")
const muteBtn = document.getElementById("mute")
const time = document.getElementById("time")
const volume = document.getElementById("volume")

const handlePlayClick = (e) =&gt; {
    if(video.paused) {
        video.play();
    } else {
        video.pause();
    }
}

play.addEventListener("click", handlePlayClick);
</code></pre></div></div>

<p>ê·¸ëŸ°ë° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë²„íŠ¼ ì•ˆì˜ ê¸€ìë„ ë°”ë€Œì–´ì•¼ í•œë‹¤. if, elseì— ê°ê° <code class="language-plaintext highlighter-rouge">playBtn.innerText = "Pause"</code>, <code class="language-plaintext highlighter-rouge">playBtn.innerText = "Play"</code>ë¥¼ ì ì–´ì¤˜ë„ ê´œì°®ì§€ë§Œ ë”°ë¡œ ë‹¤ë£¨ëŠ” í•¨ìˆ˜ë¥¼ addEventListenerë¡œ ì¶”ê°€í•´ì¤˜ë„ ê´œì°®ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const video = document.getElementById("video");
const playBtn = document.getElementById("play");
const muteBtn = document.getElementById("mute");
const volumeRange = document.getElementById("volume");
const currentTime = document.getElementById("currentTime");
const totalTime = document.getElementById("totalTime");

const handlePlayClick = (e) =&gt; {
    if(video.paused) {
        video.play();
    } else {
        video.pause();
    }
};

const handlePause = () =&gt; (playBtn.innerText = "Play");

const handlePlay = () =&gt; (playBtn.innerText = "Paused);

playBtn.addEventListener("click", handlePlayClick);
video.addEventListener("pause", handlePause);
video.addEventListener("play", handlePlay);
</code></pre></div></div>

<h3 id="112-mute-and-unmute">11.2 Mute and Unmute</h3>
<p>ìŒì†Œê±° ë²„íŠ¼ì„ ë§Œë“¤ì–´ì£¼ë ¤ê³  í•˜ëŠ”ë°, ì´ ê²½ìš° ìŒëŸ‰ì„ ë‚˜íƒ€ë‚´ëŠ” inputì˜ ê°’ë„ ê°™ì´ ì¡°ì •í•´ì¤˜ì•¼ í•œë‹¤. ì•ì„œ ì‚´í´ë³¸ í˜ì´ì§€ë¥¼ ë³´ë©´ .mutedë¡œ ìŒì†Œê±° ì—¬ë¶€ë¥¼ ì •í•  ìˆ˜ ìˆë‹¤ê³  ë‚˜ì˜¨ë‹¤. íŠ¹ì´í•œ ì ì€ ì•ì„œ play, pause ì²˜ëŸ¼ í•¨ìˆ˜ë¡œ ë§Œë“¤ì§€ ì•Šì•˜ë‹¤ëŠ” ì ì¸ë°, ê·¸ ì´ìœ ëŠ” ëª¨ë¥´ê² ë‹¤. ì–´ì¨Œê±°ë‚˜, .mutedë¥¼ true, falseë¡œ ìŒì†Œê±° í•˜ë„ë¡ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì¶”ê°€í–ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleMute = (e) =&gt; {
    if(video.muted) {
        video.muted = false;
        muteBtn.innerText = "Mute";
    } else {
        video.muted = true;
        muteBtn.innerText = "Unmute";
    }
};
...
muteBtn.addEventListener("click", handleMute);
</code></pre></div></div>

<p>ê·¸ëŸ°ë° ì½”ë“œì— ê²¹ì¹˜ëŠ” ë¶€ë¶„ì´ ë„ˆë¬´ ë§ë‹¤. ìœ„ë¥¼ ì‚¼í•­ ì—°ì‚°ìë¡œ ê°„ë‹¨í•˜ê²Œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleMute = (e) =&gt; {
    if(video.muted) {
        video.muted = false;
    } else {
        video.muted = true;
    }
    muteBtn.innerText = video.muted ? : "Unmute" : "Mute";
};
</code></pre></div></div>

<p>ë§ˆì°¬ê°€ì§€ë¡œ play, pause ì‹œì— innerTextê°€ ë°”ë€ŒëŠ” ê²ƒì„ ì•„ë˜ì²˜ëŸ¼ ì½”ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handlePlayClick = (e) =&gt; {
    if(video.paused) {
        video.play();
    } else {
        video.pause();
    }
    playBtn.innerText = video.paused ? "Paused" : "Play";
};

const handleMute = (e) =&gt; {
    if(video.muted) {
        video.muted = false;
    } else {
        video.muted = true;
    }
    muteBtn.innerText = video.muted ? : "Unmute" : "Mute";
};

playBtn.addEventListener("click", handlePlayClick);
muteBtn.addEventListener("click", handleMute);
</code></pre></div></div>

<p>ì´ì œ muteBtnê³¼ ìŒëŸ‰ì„ ì—°ê²°ì‹œì¼œì£¼ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleMute = (e) =&gt; {
    if(video.muted) {
        video.muted = false;
    } else {
        video.muted = true;
    }
    muteBtn.innerText = video.muted ? : "Mute" : "Unmute";
    volumeRange.value = video.muted ? 0.5 : 0;
};
</code></pre></div></div>

<p>ì´ë ‡ê²Œ í•˜ê³  Mute ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë³¼ë¥¨ë„ ê°™ì´ ì¡°ì •ëœë‹¤. í•˜ì§€ë§Œ ì•„ì§ í•´ì•¼ í•  ì¼ì´ 2ê°€ì§€ê°€ ìˆë‹¤. ìš°ì„  ìŒì†Œê±° í•´ì œ ì‹œì— ì›ë˜ ìŒëŸ‰ìœ¼ë¡œ ëŒì•„ê°€ì•¼ í•˜ê³ , ë˜ ë³¼ë¥¨ì„ ë“œë˜ê·¸í•˜ë©´ ìë™ìœ¼ë¡œ ìŒì†Œê±°ê°€ í•´ì œ ë˜ì–´ì•¼ í•œë‹¤.</p>

<h3 id="113-volume">11.3 Volume</h3>
<p>ìš°ë¦¬ê°€ ë§Œë“  ë³¼ë¥¨ì€ ì¥ì‹ì¼ ë¿ ì•„ë¬´ëŸ° ì¼ë„ í•˜ì§€ ì•ŠëŠ”ë‹¤. ë³¼ë¥¨ì„ ë°”ê¾¸ë©´ videoì— ì—°ê²°ëœ ë³¼ë¥¨ì„ ë°”ê¿”ì£¼ê¸° ìœ„í•´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. ê·¸ë¦¬ê³  eventë¥¼ ì¶œë ¥í•´ ë¬´ì—‡ì´ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•´ë³´ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleVolumeChange = (event) =&gt; {
    console.log(event);
}

volumeRange.addEventListener("change", handleVolumeChange);
</code></pre></div></div>

<p>ê·¸ëŸ°ë° ë³¼ë¥¨ì„ í™•ì¸í•´ë³´ë©´ ë²„íŠ¼ì„ ì›€ì§ì¼ ë•Œ ë°˜ì‘í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë²„íŠ¼ì„ ë†“ì„ ë•Œ ë°˜ì‘í•œë‹¤. ë™ì˜ìƒ í”Œë ˆì´ì–´ëŠ” ìŒëŸ‰ ì¡°ì ˆì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì§„í–‰ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ì´ëŠ” ìš°ë¦¬ê°€ ì›í•˜ë˜ ì¼ì´ ì•„ë‹ˆë‹¤.</p>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range">range</a>ë¥¼ í™•ì¸í•´ë³´ë©´ eventsê°€ change ì™¸ì—ë„ inputì´ ìˆë‹¤. í•¨ìˆ˜ì˜ ì´ë²¤íŠ¸ë¥¼ inputìœ¼ë¡œ ë°”ê¾¼ ë‹¤ìŒì— ë³¼ë¥¨ ì¡°ì ˆì„ í•´ë³´ë©´ ìš°ë¦¬ê°€ ì›í•˜ë˜ ê¸°ëŠ¥ì´ inputì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
volumeRange.addEventListener("input", handleVolumeChange);
</code></pre></div></div>

<p>eventë¥¼ í™•ì¸í•´ë³´ë©´ ë³¼ë¥¨ì´ event.target.valueë¡œ ë‚˜ì˜¨ë‹¤. ì´ì œ ì´ ê°’ìœ¼ë¡œ videoì˜ ë³¼ë¥¨ì„ ì¡°ì ˆí•˜ë„ë¡ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•´ì£¼ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleVolumeChange = (event) =&gt; {
    const {
        target: { value },
    } = event;
    video.volume = value;
}
</code></pre></div></div>

<p>ì´ì œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì›€ì§ì´ë©´ mute ìƒíƒœê°€ í•´ì œë˜ë„ë¡ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleVolumeChange = (event) =&gt; {
    const {
        target: { value },
    } = event;
    if(video.muted) {
        video.muted = false;
        muteBtn.innerText = "Mute";
    }
    video.volume = value;
}
</code></pre></div></div>

<p>ê·¸ëŸ°ë° í˜ì´ì§€ì— ì²˜ìŒ ë“¤ì–´ì™”ì„ ë•Œ, ë³¼ë¥¨ ë²„íŠ¼ê³¼ ë¹„ë””ì˜¤ ë³¼ë¥¨ì´ ì—°ê²°ë˜ì§€ ì•Šì€ ìƒíƒœë‹¤. ë³¼ë¥¨ ë²„íŠ¼ì˜ ê¸°ë³¸ê°’ì€ 0.5ì´ë¯€ë¡œ ì²˜ìŒ í˜ì´ì§€ì— ë“¤ì–´ì™”ì„ ë•Œ, ë³¼ë¥¨ì„ 0.5ë¡œ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤. ë˜í•œ ìŒì†Œê±° ìƒíƒœë¥¼ í•´ì œí–ˆì„ ë•Œ, ì›ë˜ ë³¼ë¥¨ìœ¼ë¡œ ëŒì•„ê°€ê²Œ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë³¼ë¥¨ì„ í•˜ë‚˜ì˜ ë³€ìˆ˜ë¡œ ë§Œë“¤ì–´ì„œ ë°”ë€” ë•Œë§ˆë‹¤ ì—…ë°ì´íŠ¸ í•´ì£¼ë„ë¡ í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
let volumeValue = 0.5;
video.volume = volumeValue

const handleMuteClick = (e) =&gt; {
    ...
    volumeRange.value = video.muted ? 0 " volumeValue;
};

const handleVolumeChange = (event) =&gt; {
    ...
    volumeValue = value;
    video.volume = value;
}
</code></pre></div></div>

<h3 id="114-duration-and-current-time">11.4 Duration and Current Time</h3>
<p><a href="https://developer.mozilla.org/ko/docs/Web/API/HTMLMediaElement">HTMLMediaElement</a>ë¥¼ í™•ì¸í•˜ë©´ loadedmetadataê°€ ìˆë‹¤. ì´ë¦„ ê·¸ëŒ€ë¡œ ë¹„ë””ì˜¤ì˜ ë©”íƒ€ ë°ì´í„°ê°€ ë¡œë“œ ë  ë•Œ, ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ë‹¤. addEventListenerê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ë©”íƒ€ ë°ì´í„°ê°€ ë¶ˆëŸ¬ì™€ì§ˆ ë•Œë§ˆë‹¤ í•¨ìˆ˜ê°€ ì‘ë™ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒìœ¼ë¡œ .durationì€ ë¯¸ë””ì–´ì˜ ì „ì²´ ê¸¸ì´ë¥¼ ì´ˆ ë‹¨ìœ„ë¡œ double ê°’ìœ¼ë¡œ ë°˜í™˜í•œë‹¤. ì´ ë‘˜ì„ ê°™ì´ ì‚¬ìš©í•˜ë©´ í˜ì´ì§€ê°€ ë¶ˆëŸ¬ì™€ì§ˆ ë•Œ, ë‹¤ì‹œ ë§í•´ ë©”íƒ€ ë°ì´í„°ê°€ í˜¸ì¶œë  ë•Œ, ë¯¸ë””ì–´ì˜ ê¸¸ì´ë¥¼ ë¶ˆëŸ¬ì˜¤ê²Œ ëœë‹¤. ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js

const handleLoadedMetadata = (e) =&gt; {
    totalTime.innerText = video.duration;
};
...
video.addEventListener("loadedmetadata", handleLoadedMetadata);
</code></pre></div></div>

<p>ê·¸ëŸ°ë° ì•ì„œ ë§í–ˆë“¯ì´ .duration ì†ì„±ì€ doubleë¡œ ê°’ì„ ë°˜í™˜í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ floorë¥¼ ì‚¬ìš©í•´ì„œ ì´ˆ ë‹¨ìœ„ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js

const handleLoadedMetadata = (e) =&gt; {
    totalTime.innerText = Math.floor(video.duration);
};
...
video.addEventListener("loadedmetadata", handleLoadedMetadata);
</code></pre></div></div>

<p>ë‹¤ìŒìœ¼ë¡œ ì¬ìƒ ì‹œê°„ì„ ë§Œë“¤ì–´ë³´ì. ì¬ìƒ ì‹œê°„ì€ ë¹„ë””ì˜¤ê°€ 1ì´ˆ ì¬ìƒë  ë•Œë§ˆë‹¤ ì—…ë°ì´íŠ¸ ë˜ì–´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ë‹¤ë¥¸ ì‹œê°„ì„ ëˆŒë €ì„ ë•Œë„ ì¬ìƒ ì‹œê°„ì´ ë°”ë€Œì–´ì•¼ í•œë‹¤. ì´ë²¤íŠ¸ë¥¼ ë³´ë©´ timeupdateê°€ ìˆëŠ”ë°, .currentTime ì†ì„±ì´ ë°”ë€” ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤. ì—¬ê¸°ì„œ .currentTime ì†ì„±ì€ í˜„ì¬ ì¬ìƒ ì‹œì ì„ doubleë¡œ í‘œí˜„í•œ ê°’ìœ¼ë¡œ, ì•ì˜ .durationê³¼ ë‹¬ë¦¬ ì¬ìƒ ì‹œì ì„ ë³€ê²½í•˜ëŠ”ë°ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. handleTimeUpdate í•¨ìˆ˜ë¥¼ timeupdate ì´ë²¤íŠ¸ë¡œ ë§Œë“¤ì–´ì£¼ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js

const handleLoadedMetadata = (e) =&gt; {
    totalTime.innerText = Math.floor(video.duration);
};

const handleTimeUpdate = (e) =&gt; {
    currentTime.innerText = Math.floor(video.currentTime);
};
...
video.addEventListener("loadedmetadata", handleLoadedMetadata);
video.addEventListener("timeupdate", handleTimeUpdate);
</code></pre></div></div>

<h3 id="115-time-formatting">11.5 Time Formatting</h3>
<p>ìš°ë¦¬ê°€ ë§Œë“  ë¹„ë””ì˜¤ ì‹œê°„ì€ ë‹¨ìˆœíˆ ìˆ«ìì¼ ë¿, ì‹œê°„ì„ í‘œí˜„í•˜ëŠ” í˜•íƒœê°€ ì•„ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìˆ«ìë¥¼ ì‹œê°„ì„ í‘œì‹œí•˜ë„ë¡ í˜•íƒœë¥¼ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ 25ë¥¼ 00:00:25ë¡œ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤.</p>

<p>ìš°ì„  ê°„ë‹¨í•œ ë°©ë²•ì„ ì•Œì•„ë³´ì. Date()ëŠ” í•¨ìˆ˜ë¡œ ì‚¬ìš©í•˜ë©´ í˜„ì¬ ì‹œê°„ì„ ë‚˜íƒ€ë‚´ê³ , new Date()ë¡œ ì‚¬ìš©í•˜ë©´ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ë‘˜ì˜ ì°¨ì´ëŠ” DateëŠ” ë³€ìˆ˜ë¥¼ ë¬´ì‹œí•˜ê³  ë¬´ì¡°ê±´ í˜„ì¬ ì‹œê°„ì„ ë§Œë“ ë‹¤ë©´, new Date()ëŠ” ë³€ìˆ˜ë¥¼ ë°›ì•„ì„œ 1970ë…„ë„ë¶€í„° ì„¸ëŠ” ì‹œê°„ì„ ë§Œë“¤ì–´ ì¤€ë‹¤. ë‘˜ì˜ ì°¨ì´ë¥¼ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œì¼œë³´ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>console.log(Date());
console.log(Date(2));
console.log(new Date());
console.log(new Date(2));
</code></pre></div></div>

<p>new Date()ê°€ í˜„ì¬ ì‹œê°„ì„ ì¶œë ¥í•˜ê¸° ë•Œë¬¸ì— ê²°êµ­ Date() = new Date().toISOstring()ì´ë‹¤. ê·¸ëŸ°ë° ë§Œì•½ ì—¬ê¸°ë‹¤ê°€ ìš°ë¦¬ ë¹„ë””ì˜¤ì˜ ì‹œê°„ì„ ë„£ì–´ì£¼ê²Œ ë˜ë©´ ì‹œê°„ì˜ í˜•íƒœë¡œ ì¶œë ¥ë˜ê²Œ ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ <code class="language-plaintext highlighter-rouge">new Date(25 * 1000).toISOstring()</code>ì€ â€˜1970-01-01T00:00:25.000Zâ€™ì„ ê²°ê³¼ê°’ìœ¼ë¡œ ë‚´ë†“ëŠ”ë‹¤. ì´ëŠ” stringì´ë¯€ë¡œ substrë¡œ ìš°ë¦¬ê°€ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">new Date(time * 1000).toISOstring().substr(11, 8)</code>ì„ ì“°ë©´ â€˜00:00:25â€™ì˜ í˜•íƒœì˜ ì‹œê°„ì„ ì–»ì„ ìˆ˜ ìˆë‹¤. ì´ë¥¼ ì´ìš©í•´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const formatTime = (seconds) =&gt;
    new Date(seconds * 1000).toISOstring().substr(11, 8);

const handleLoadedMetadata = (e) =&gt; {
    totalTime.innerText = formatTime(Math.floor(video.duration));
};

const handleTimeUpdate = (e) =&gt; {
    currentTime.innerText = formatTime(Math.floor(video.currentTime));
};
...
video.addEventListener("loadedmetadata", handleLoadedMetadata);
video.addEventListener("timeupdate", handleTimeUpdate);
</code></pre></div></div>

<p>ì´ëŠ” êµ‰ì¥íˆ ê°„ë‹¨í•œ í˜•íƒœì§€ë§Œ 24ì‹œê°„ì„ ë„˜ì–´ê°€ë©´ í‘œí˜„í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìƒê¸´ë‹¤. ì´ ê²½ìš°ëŠ” ì…ë ¥ë°›ì€ ì‹œê°„ìœ¼ë¡œ, hours, minutes, secondsë¥¼ êµ¬í•œ ë‹¤ìŒì— ìˆ«ìê°€ 10ë³´ë‹¤ ì‘ì€ì§€ ì•„ë‹Œì§€ êµ¬í•´ì„œ ì¼ì¼ì´ í•©ì³ì¤˜ì•¼ í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>const secondsToTime = (seconds) =&gt; {
    let remainedSeconds = Math.floor(seconds);
    let hh = Math.floor(remainedSeconds / 3600);
    remainedSeconds %= 3600;

    let mm = Math.floor(remainedSeconds / 60);
    remainedSeconds %= 60;

    let ss = remainedSeconds;

    if(hh &lt; 10) hh = "0" + hh;
    if(mm &lt; 10) mm = "0" + mm;
    if(ss &lt; 10) ss = "0" + ss;

    const result = hh + ":" + mm + ":" + ss;
    return result;
}
</code></pre></div></div>

<p>í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ ë¹„ë””ì˜¤ ì‹œê°„ì´ 24ì‹œê°„ì„ ë„˜ì–´ê°ˆ ì¼ì´ ì—†ìœ¼ë¯€ë¡œ ìœ„ì˜ ê°„ë‹¨í•œ ë°©ë²•ì„ ì‚¬ìš©í•´ë„ í° ë¬¸ì œëŠ” ì—†ë‹¤.</p>

<h3 id="116-timeline">11.6 Timeline</h3>
<p>ë‹¤ìŒìœ¼ë¡œ ë°”ë¥¼ ì›€ì§ì´ë©´ ì¬ìƒ ì‹œê°„ì„ ë°”ê¿”ì£¼ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ê² ë‹¤. ì•ì„œ ë§Œë“¤ì—ˆë˜ #timelineì„ ê¸°ì–µí•´ë³´ë©´ step=â€1â€, value=0, min=â€0â€ìœ¼ë¡œ ì„¤ì •í–ˆë‹¤. ì—¬ê¸°ì„œ maxë¥¼ ì„¤ì •í•˜ì§€ ì•Šì€ ì´ìœ ëŠ” ë¹„ë””ì˜¤ì˜ ê¸¸ì´ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ì„œ ìš°ì„ ì€ ë¹„ë””ì˜¤ì˜ ê¸¸ì´ë¥¼ ì¤˜ì•¼ í•˜ëŠ”ë°, ì´ëŠ” ë¹„ë””ì˜¤ê°€ ë¶ˆëŸ¬ì™€ì§ˆ ë•Œ ê²°ì • ë˜ì–´ì•¼ í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ handelLoadedMetadataì— ì½”ë“œë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js

const timeline = document.getElementById("timeline");
...
const handleLoadedMetadata = () =&gt; {
    totalTime.innerText = formatTime(Math.floor(video.duration));
    timeline.max = Math.floor(video.duration);
};
</code></pre></div></div>

<p>ë¹„ë””ì˜¤ì˜ í˜„ì¬ ì¬ìƒ ì‹œê°„ì´ ë°”ë€Œë©´ ë°”ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¿”ì£¼ë ¤ê³  í•œë‹¤. ì´ ì—­ì‹œ ì•ì„œ í–ˆë˜ timeupdate ì´ë²¤íŠ¸ë¡œ ê°€ëŠ¥í•˜ë‹¤. ê·¸ë˜ì„œ handleTimeUpdateì— ë°”ë€ ì‹œê°„ì— ë”°ë¼ ë°”ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¿”ì£¼ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleTimeUpdate = () =&gt; {
    ...
    timeline.value = Math.floor(video.currentTime);
};
</code></pre></div></div>

<p>ì´ì œ ë°”ë¥¼ ì›€ì§ì´ë©´ í˜„ì¬ ì¬ìƒ ì‹œê°„ë„ ë°”ë€Œë„ë¡ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤. ì•ì„œ ë³¼ë¥¨ë°”ë¥¼ ë§Œë“¤ ë•Œ, input ì´ë²¤íŠ¸ë¡œ ë°”ê°€ ì›€ì§ì¼ ë•Œë§ˆë‹¤ ìŒëŸ‰ì´ ë°”ë€Œë„ë¡ ë§Œë“¤ì—ˆë‹¤. ë˜‘ê°™ì€ ì¼ì„ timelineì— í•´ì£¼ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleTinelineChange = (event) =&gt; {
    const {
        target: { value }
    } = event;
    video.currentTime = value;
};

timeline.addEventListener("input", handleTimelineChange);
</code></pre></div></div>

<p>ì´ë ‡ê²Œ ìš°ë¦¬ê°€ ì§ì ‘ ë¹„ë””ì˜¤ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì—ˆë‹¤. ì´ì œëŠ” watch.pugì˜ ë¹„ë””ì˜¤ì— ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ì§€ì›Œì£¼ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// watch.pug
block content
    video(src="/" + video.fileUrl)
</code></pre></div></div>

<h3 id="117-fullscreen">11.7 Fullscreen</h3>
<p>í’€ìŠ¤í¬ë¦°ì„ ë§Œë“œëŠ” ë²„íŠ¼ì„ ë§Œë“¤ì–´ë³´ì. í’€ìŠ¤í¬ë¦°ì„ ì ìš©í•˜ëŠ” ë²•ì€ ê°„ë‹¨í•˜ë‹¤. element.requestFullscreen()ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const fullScreenBtn = document.getElementById("fullscreen");

const handleFullscreen = () =&gt; {
    video.requestFullscreen();
};

fullScreenBtn.addEventListener("click", handleFullscreen);
</code></pre></div></div>

<p>ê·¸ëŸ°ë° ì´ë ‡ê²Œí•˜ë©´ ë¬¸ì œê°€ ìƒê¸´ë‹¤. ë¹„ë””ì˜¤ë§Œ í’€ ìŠ¤í¬ë¦°ì´ ë˜ê³  ìš°ë¦¬ê°€ ë§Œë“  ë²„íŠ¼ì€ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ pug íŒŒì¼ì„ ìˆ˜ì •í•´ì¤˜ì•¼ í•œë‹¤. ì§€ê¸ˆê¹Œì§€ ë§Œë“  ë¹„ë””ì˜¤ì™€ ë²„íŠ¼ì„ ëª¨ë‘ #videoContainerì— ë„£ì–´ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// watch.pug
extends base

block content
    div#videoContainer
        video(src="/" + video.fileUrl)
        div
            button#play Play
            button#mute Mute
            input(type="range",step="0.1", value=0.5, min="0", max="1")#volume
            div
                span#currenTime 00:00
                span  / 
                span#totalTime 00:00
            div
                input(type="range",step="1", value="0", min="0")#timeline
            div
                button#fullScreen Enter Full Screen
    //-
        div
            p=video.description
            small=video.createdAt
        div
            small Uploaded by 
                a(href=`/users/${video.owner._id}`)=video.owner.name
        if String(video.owner._id) === String(loggedInUser._id)
            a(href=`${video.id}/edit`) Edit Video &amp;rarr;
            br
            a(href=`${video.id}/delete`) Delete Video &amp;rarr;
block scripts
    script(src="/static/js/videoPlayer.js") 
</code></pre></div></div>

<p>ì´ë ‡ê²Œí•˜ë©´ videoContainerë¥¼ í’€ìŠ¤í¬ë¦°ìœ¼ë¡œ ë§Œë“¤ë©´ ëª¨ë“  ê²ƒì´ ê°™ì´ ë³´ì¸ë‹¤. ë¬¼ë¡  ì•„ë¬´ëŸ° ìŠ¤íƒ€ì¼ì´ ì—†ì–´ì„œ, ë¹ˆ ê³µê°„ì´ ìƒê¸°ê¸´ í•˜ì§€ë§Œ ë‚˜ì¤‘ì— ë°”ê¿”ì£¼ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const fullScreenBtn = document.getElementById("fullscreen");
const videoContainer = document.getElementById("videoContainer")

const handleFullscreen = () =&gt; {
    videoContainer.requestFullscreen();
};

fullScreenBtn.addEventListener("click", handleFullscreen);
</code></pre></div></div>

<p>ì´ì œ í’€ìŠ¤í¬ë¦°ì„ ë‚˜ê°€ëŠ” ë²„íŠ¼ë§Œ ë§Œë“¤ì–´ì£¼ë©´ ëœë‹¤. ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, ê¸€ìë¥¼ ë°”ê¿”ì£¼ê³  ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í’€ìŠ¤í¬ë¦°ì´ ëë‚˜ê²Œ í•´ì¤˜ì•¼ í•œë‹¤. ê·¸ëŸ¬ëŸ¬ë©´ í’€ìŠ¤í¬ë¦°ì¸ì§€ ì•„ë‹Œì§€ í™•ì¸í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤. document.fullscreenElementë¥¼ ì‚¬ìš©í•˜ë©´ í’€ìŠ¤í¬ë¦°ì´ ì—†ì„ ê²½ìš° nullì„ ë°˜í™˜í•˜ê³  ìˆë‹¤ë©´ í•´ë‹¹ htmlì„ ë°˜í™˜í•œë‹¤. ì´ë¥¼ ì´ìš©í•´ì„œ ë§Œë“¤ë©´ ëœë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const fullScreenBtn = document.getElementById("fullscreen");
const videoContainer = document.getElementById("videoContainer")

const handleFullscreen = () =&gt; {
    const fullscreen = document.fullscreenElement;
    if (fullscreen) {
        document.exitFullscreen();
        fullScreenBtn.innerText = "Enter Fullscreen"
    } else {
        videoContainer.requestFullscreen();
        fullScreenBtn.innerText = "Exit Fullscreen"
    }
};

fullScreenBtn.addEventListener("click", handleFullscreen);
</code></pre></div></div>

<p>í•˜ì§€ë§Œ escí‚¤ë¥¼ ëˆŒëŸ¬ì„œ ë‚˜ê°ˆ ê²½ìš°ëŠ” ì•„ì§ í•´ê²°ë˜ì§€ ì•Šì•˜ë‹¤.</p>

<p>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„  ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í‚¤ ì…ë ¥ì„ ë°›ëŠ” ë²•ì„ ì•Œì•„ì•¼ í•œë‹¤. í‚¤ ì…ë ¥ì„ ë°›ëŠ” ì´ë²¤íŠ¸ëŠ” keypress, keydown, keyupì¸ë° ì´ì¤‘ keydownê³¼ keyupì€ í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ë°˜ì‘ í•  ê²ƒì¸ì§€, ì•„ë‹ˆë©´ keyë¥¼ ëˆ„ë¥´ê³  ë“¤ì—ˆì„ ë•Œ ë°˜ì‘í•  ê²ƒì¸ì§€ì— ë”°ë¼ ê°ˆë¦°ë‹¤. ê·¸ë¦¬ê³  keypressì™€ keydownì€ í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ë°˜ì‘í•œë‹¤. ê·¸ëŸ°ë° keypresseì™€ keydownì€ ë¹„ìŠ·í•´ ë³´ì´ëŠ” ë‘˜ì€ ì°¨ì´ê°€ ìˆë‹¤. ìš°ì„  keydownì€ ì–´ë–¤ í‚¤ë“ ì§€ ëˆŒëŸ¬ì§€ë©´ ë°˜ì‘í•˜ê²Œ ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ aí‚¤ë¥¼ ëˆŒë €ì„ ë•Œ, ë°˜ì‘í•˜ê²Œ í•˜ê³  ì‹¶ë‹¤ê³  í•˜ì. ê·¸ëŸ°ë° keydownì€ ì´ë¥¼ Aë¡œ ì¸ì‹í•˜ê³  ë°›ì•„ë“¤ì¸ë‹¤ ì •í™•íˆëŠ” ì•„ìŠ¤í‚¤ ì½”ë“œì¸ 65ë¡œ ì¸ì‹í•œë‹¤. ë°˜ë©´ keypressëŠ” aì™€ Aë¥¼ ë‹¤ë¥´ê²Œ ì¸ì‹í•´ì„œ aë¥¼ 97 ê·¸ë¦¬ê³  Aë¥¼ 65ë¡œ ì¸ì‹í•œë‹¤. í•˜ì§€ë§Œ keypressëŠ” ë¬¸ì œì ì´ ìˆëŠ”ë° ê¸€ìë¡œ í‘œí˜„ë˜ì§€ ì•ŠëŠ” í‚¤ ì…ë ¥ì€ ì½ì§€ ì•ŠëŠ”ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ctrl, alt, esc, shift ë“±ì€ keypressì—ì„œ ì¸ì‹í•  ìˆ˜ ì—†ë‹¤. keydownì€ ì–´ë–¤ í‚¤ë“ ì§€ ê°„ì— ì•„ìŠ¤í‚¤ì½”ë“œë¡œ ì¸ì‹í•˜ê¸° ë•Œë¬¸ì— í‚¤ ì…ë ¥ì„ ì‚¬ìš©í•  ë•Œ ë¬´ì¡°ê±´ keydownì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>

<h3 id="118-controls-events-part-one">11.8 Controls Events part One</h3>
<p>ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì´ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë³´ì´ë„ë¡ ë§Œë“¤ì–´ì£¼ê³  ì‹¶ë‹¤. mousemove ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë§ˆìš°ìŠ¤ì˜ ì›€ì§ì¼ ê²½ìš° í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ #videoControlsë¥¼ ì§€ì •í•´ì¤¬ë‹¤. ì´ì œ ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì´ë©´ videoControlsì— showing classê°€ ì¶”ê°€ë˜ë„ë¡ ë§Œë“¤ê² ë‹¤. ë‚˜ì¤‘ì— cssì—ì„œ showingì— ë”°ë¼ ë³´ì´ë„ë¡ ë§Œë“¤ì–´ì£¼ë©´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//watch.pug
block content
    div#videoContainer
        ...
        div#videoControls
            ...
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const videoControls = document.getElementById("videoControls");

const handleMouseMove = () =&gt; {
    videoControls.classList.add("showing");
};

const video.addEventListener("mousemove", handleMouseMove);
</code></pre></div></div>

<p>ì´ë²ˆì—ëŠ” ë§ˆìš°ìŠ¤ê°€ ë¹„ë””ì˜¤ ë°–ìœ¼ë¡œ ë‚˜ê°ˆ ê²½ìš°, showing í´ë˜ìŠ¤ê°€ ì—†ì–´ì§€ë„ë¡ ë§Œë“¤ì–´ì¤€ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const videoControls = document.getElementById("videoControls");

const handleMouseMove = () =&gt; {
    videoControls.classList.add("showing");
};

const handleMouseLeave = () =&gt; {
    videoControls.classList.remove("showing");
};

const video.addEventListener("mousemove", handleMouseMove);
const video.addEventListener("mouseleave", handelMouseLeave);
</code></pre></div></div>

<p>ê·¸ëŸ°ë° ë§ˆìš°ìŠ¤ê°€ ë‚˜ê°€ë”ë¼ë„ ë°”ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì—†ì–´ì§€ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„  setTimeout()ì„ ì‚¬ìš©í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleMouseLeave = () =&gt; {
    setTimeout(() =&gt; {
        videoControls.classList.remove("showing");
    }, 3000);
};
</code></pre></div></div>

<p>ê·¸ëŸ°ë° ë§ˆìš°ìŠ¤ê°€ ë°–ìœ¼ë¡œ ë‚˜ê°”ë‹¤ê°€ ë‹¤ì‹œ ë“¤ì–´ì˜¬ ê²½ìš°, ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìœ ì§€ë˜ì§€ ì•Šê³  3ì´ˆ í›„ì— ì‚¬ë¼ì§€ê²Œ ëœë‹¤. ì´ëŠ” setTimeoutì´ ë¬´ì¡°ê±´ 3ì´ˆí›„ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ìƒê¸°ëŠ” ë¬¸ì œë¡œ, ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë‹¤ì‹œ ë“¤ì–´ì˜¤ë©´ timeoutì´ ì·¨ì†Œë˜ë„ë¡ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤. clearTimeout()ì„ ì‚¬ìš©í•˜ë©´ timeoutì´ ì‘ë™í•˜ì§€ ì•Šë„ë¡ ë§Œë“¤ ìˆ˜ ìˆëŠ”ë°, ëŒ€ìƒì„ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ì•„ë˜ì²˜ëŸ¼ í•˜ë©´ idë¡œ ëŒ€ìƒì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const handleMouseLeave = () =&gt; {
    const id = setTimeout(() =&gt; {
        videoControls.classList.remove("showing");
    }, 3000);
    clearTimeout(id);
};
</code></pre></div></div>

<p>ë¬¸ì œëŠ” ì´ clearTimeoutì´ handleMouseLeaveê°€ ì•„ë‹ˆë¼ handleMouseMoveì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ°ë° idëŠ” handleMouseLeave ì•ˆì—ì„œ ì„ ì–¸ë˜ë©´ ë°–ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ë°–ì—ì„œ globalë¡œ ì„ ì–¸í•´ì¤˜ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ê·¸ idë¡œ handleMouseMove ì•ˆì— clearTimeout()ì„ ì‚¬ìš©í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
let controlsTimeout = null;

const handleMouseMove = () =&gt; {
    if(controlsTimeout) {
        clearTimeout(controlsTimeout);
        controlsTimeout = null;
    }
    videoControls.classList.add("showing");
};

const handleMouseLeave = () =&gt; {
    controlsTimeout = setTimeout(() =&gt; {
        videoControls.classList.remove("showing");
    }, 3000);
};
</code></pre></div></div>

<h3 id="119-controls-events-part-two">11.9 Controls Events part Two</h3>
<p>ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì´ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë³´ì´ê²Œ ë§Œë“¤ì–´ì¤¬ë‹¤. ê·¸ëŸ°ë° ë§ˆìš°ìŠ¤ë¥¼ ë©ˆì¶œ ê²½ìš° ì‹œê°„ì´ ì¡°ê¸ˆ ì§€ë‚˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë³´ì´ì§€ ì•Šë„ë¡ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì•„ì‰½ê²Œë„ ë§ˆìš°ìŠ¤ê°€ ì •ì§€í•¨ì„ ì¸ì‹í•˜ëŠ” ì´ë²¤íŠ¸ëŠ” ì—†ë‹¤. ê·¸ë˜ì„œ setTimeoutê³¼ clearTimeoutì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. handleMouseMoveì—ì„œ ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì´ë©´ setTimeoutê³¼ clearTimeoutì´ ì‹¤í–‰ë˜ê²Œ í•´ì¤€ë‹¤. ê·¸ëŸ¬ë‹¤ê°€ ë§ˆìš°ìŠ¤ê°€ ë©ˆì¶”ë©´ setTimeoutì´ ì‹¤í–‰ë˜ë©´ ëœë‹¤. ì•„ë˜ ì½”ë“œì—ì„œ showing í´ë˜ìŠ¤ë¥¼ ì§€ìš°ëŠ” ì½”ë“œê°€ ë°˜ë³µë˜ì–´ì„œ ë”°ë¡œ hideControls í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì„œ ì‘ì„±í–ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
let controlsMovementTime = null;

const hideControls = () =&gt; videoControls.classList.remove("showing");

const handleMouseMove = () =&gt; {
    if(controlsTimeout) {
        clearTimeout(controlsTimeout);
        controlsTimeout = null;
    }
    videoControls.classList.add("showing");
    if(controlsMovementTime) {
        clearTimeout(controlsMovementTimeout);
        controlsMovementTime = null;
    }
    controlsMovementTime = setTimeout(hideControls, 3000);
};

const handleMouseLeave = () =&gt; {
    controlsTimeout = setTimeout(hideControls, 3000);
};
</code></pre></div></div>

<h3 id="1110-recap">11.10 Recap</h3>

<h3 id="1111-style-recap">11.11 Style Recap</h3>
<p>ìš°ë¦¬ê°€ ë°”ê¿”ì¤˜ì•¼ í•  ê²ƒì€ í…ìŠ¤íŠ¸ë¡œ ëœ ê²ƒì„ ì•„ì´ì½˜ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” ì¼ì´ë‹¤. watch.pugì—ì„œ ê°ê°ì— fontawesomeìœ¼ë¡œ ì•„ì´ì½˜ìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤. ê·¸ë¦¬ê³  videoPlayer.jsì—ì„œ querySelector(â€œiâ€)ë¡œ í•´ë‹¹ ì•„ì´ì½˜ì„ ì„ íƒí•´ì¤€ ë‹¤ìŒ, í…ìŠ¤íŠ¸ë¥¼ ë°”ê¾¸ëŠ” ëŒ€ì‹ ì— ì•„ì´ì½˜ì„ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤. ì´ëŠ” .classListë¥¼ ë°”ê¿”ì£¼ëŠ” ê²ƒìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤.</p>

<p>ê·¸ë¦¬ê³  í˜„ì¬ ë¹„ë””ì˜¤ ì»¨íŠ¸ë¡¤ëŸ¬ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¤ë˜ ì˜¬ë ¤ ë†“ìœ¼ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì‚¬ë¼ì§€ëŠ” ë²„ê·¸ê°€ ìˆë‹¤. ì´ëŠ” ë¹„ë””ì˜¤ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê³  ìˆì„ ê²½ìš°ì—ë§Œ handleMouseMove, handleMouseLeaveê°€ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ìƒê¸°ëŠ” ë¬¸ì œì ìœ¼ë¡œ, videoê°€ ì•„ë‹ˆë¼ videoContainerì— ì´ë²¤íŠ¸ë¥¼ ì£¼ë©´ ê°„ë‹¨íˆ í•´ê²°ëœë‹¤.</p>

<p>ê·¸ë¦¬ê³  ì´ì— ë§ì¶°ì„œ cssë¥¼ ì—…ë°ì´íŠ¸ í•´ì¤¬ë‹¤.</p>

<p>ì•„ì§ ì™„ì„± ëª» í•œ ê²ƒì´ 2ê°€ì§€ ìˆë‹¤. ìš°ì„ ì€ ë¹„ë””ì˜¤ë¥¼ ëˆ„ë¥´ë©´ ë¹„ë””ì˜¤ê°€ ì¬ìƒë˜ê³  ë©ˆì¶”ëŠ” ê¸°ëŠ¥ì´ ì—†ë‹¤. ì´ëŠ” video.addEventListener(â€œclickâ€)ìœ¼ë¡œ ê°„ë‹¨íˆ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p>

<p>ë‹¤ìŒìœ¼ë¡œ í‚¤ë¥¼ ëˆ„ë¥´ë©´ ë¹„ë””ì˜¤ê°€ ì»¨íŠ¸ë¡¤ë˜ëŠ” ê¸°ëŠ¥ì´ ì—†ë‹¤. ì´ëŠ” <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent">Keyboard Event</a>ì—ì„œ ì°¾ì„ ìˆ˜ ìˆë‹¤. document.addEventListener(â€˜keydownâ€™, callback)ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë‹ˆ í™•ì¸í•´ë³´ì. í‚¤ê°€ ì—¬ëŸ¬ê°œì¼ ê²½ìš° switchë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// videoPlayer.js
const video = document.querySelector("video");
const playBtn = document.getElementById("play");
const playBtnIcon = playBtn.querySelector("i");
const muteBtn = document.getElementById("mute");
const muteBtnIcon = muteBtn.querySelector("i");
const volumeRange = document.getElementById("volume");
const currenTime = document.getElementById("currenTime");
const totalTime = document.getElementById("totalTime");
const timeline = document.getElementById("timeline");
const fullScreenBtn = document.getElementById("fullScreen");
const fullScreenIcon = fullScreenBtn.querySelector("i");
const videoContainer = document.getElementById("videoContainer");
const videoControls = document.getElementById("videoControls");

let controlsTimeout = null;
let controlsMovementTimeout = null;
let volumeValue = 0.5;
video.volume = volumeValue;

const handlePlayClick = (e) =&gt; {
  if (video.paused) {
    video.play();
  } else {
    video.pause();
  }
  playBtnIcon.classList = video.paused ? "fas fa-play" : "fas fa-pause";
};

const handleMuteClick = (e) =&gt; {
  if (video.muted) {
    video.muted = false;
  } else {
    video.muted = true;
  }
  muteBtnIcon.classList = video.muted
    ? "fas fa-volume-mute"
    : "fas fa-volume-up";
  volumeRange.value = video.muted ? 0 : volumeValue;
};

const handleVolumeChange = (event) =&gt; {
  const {
    target: { value },
  } = event;
  if (video.muted) {
    video.muted = false;
    muteBtn.innerText = "Mute";
  }
  volumeValue = value;
  video.volume = value;
};

const formatTime = (seconds) =&gt;
  new Date(seconds * 1000).toISOString().substr(14, 5);

const handleLoadedMetadata = () =&gt; {
  totalTime.innerText = formatTime(Math.floor(video.duration));
  timeline.max = Math.floor(video.duration);
};

const handleTimeUpdate = () =&gt; {
  currenTime.innerText = formatTime(Math.floor(video.currentTime));
  timeline.value = Math.floor(video.currentTime);
};

const handleTimelineChange = (event) =&gt; {
  const {
    target: { value },
  } = event;
  video.currentTime = value;
};

const handleFullscreen = () =&gt; {
  const fullscreen = document.fullscreenElement;
  if (fullscreen) {
    document.exitFullscreen();
    fullScreenIcon.classList = "fas fa-expand";
  } else {
    videoContainer.requestFullscreen();
    fullScreenIcon.classList = "fas fa-compress";
  }
};

const hideControls = () =&gt; videoControls.classList.remove("showing");

const handleMouseMove = () =&gt; {
  if (controlsTimeout) {
    clearTimeout(controlsTimeout);
    controlsTimeout = null;
  }
  if (controlsMovementTimeout) {
    clearTimeout(controlsMovementTimeout);
    controlsMovementTimeout = null;
  }
  videoControls.classList.add("showing");
  controlsMovementTimeout = setTimeout(hideControls, 3000);
};

const handleMouseLeave = () =&gt; {
  controlsTimeout = setTimeout(hideControls, 3000);
};

playBtn.addEventListener("click", handlePlayClick);
muteBtn.addEventListener("click", handleMuteClick);
volumeRange.addEventListener("input", handleVolumeChange);
video.addEventListener("loadeddata", handleLoadedMetadata);
video.addEventListener("timeupdate", handleTimeUpdate);
videoContainer.addEventListener("mousemove", handleMouseMove);
videoContainer.addEventListener("mouseleave", handleMouseLeave);
timeline.addEventListener("input", handleTimelineChange);
fullScreenBtn.addEventListener("click", handleFullscreen);
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// client/scss/components/video-player.scss
#videoContainer {
  width: 100%;
  position: relative;
  video {
    width: 100%;
  }
  .videoControls {
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    &amp;.showing {
      opacity: 1;
    }
    align-items: center;
    border-radius: 10px;
    position: absolute;
    bottom: 10px;
    width: 95%;
    left: 0;
    right: 0;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 4fr 1fr auto;
    gap: 10px;
    justify-content: space-between;
    background-color: #0f1117;
    padding: 10px;
    left: 0;
    box-sizing: border-box;
    .videoControls__play {
      display: flex;
      align-items: center;
      justify-content: space-around;
      .videoControls__playBtn {
        margin: 0px 15px;
      }
      .videoControls__time {
        font-size: 12px;
      }
    }
    .videoControls__volume {
      display: flex;
      align-items: center;
      span {
        margin-left: 10px;
        i {
          font-size: 20px;
        }
      }
    }
  }
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>style.scss
// Components

@import "./components/header.scss";
@import "./components/footer.scss";
@import "./components/video.scss";
@import "./components/shared.scss";
@import "./components/forms.scss";
@import "./components/social-login.scss";
@import "./components/video-player.scss";
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// watch.pug
extends base

block content
    div#videoContainer
        video(src="/" + video.fileUrl)
        div#videoControls.videoControls
            div.videoControls__play
                span#play.videoControls__playBtn
                    i.fas.fa-play
                div.videoControls__time
                    span#currenTime 00:00
                    span  / 
                    span#totalTime 00:00
            input(type="range",step="1", value="0", min="0")#timeline.videoControls__timeline
            div.videoControls__volume
                input(type="range",step="0.1", value=0.5, min="0", max="1")#volume
                span#mute
                    i.fas.fa-volume-up
            div
                span#fullScreen
                    i.fas.fa-expand
    //-
        div
            p=video.description
            small=video.createdAt
        div
            small Uploaded by 
                a(href=`/users/${video.owner._id}`)=video.owner.name
        if String(video.owner._id) === String(loggedInUser._id)
            a(href=`${video.id}/edit`) Edit Video &amp;rarr;
            br
            a(href=`${video.id}/delete`) Delete Video &amp;rarr;
block scripts
    script(src="/static/js/videoPlayer.js") 
</code></pre></div></div>
:ET
---
layout: post
title: Regular Expressions
date: Tue Jan 18 18:04:08 JST 2022
categories:
tag:
toc: true
---

문자열을 사용하면 종종 정규 표현식을 사용한다.
정규 표현식은 조건에 맞는 문자열을 찾는 방법으로 2가지 방법으로 정규 표현식을 만들 수 있다.
첫 번째는 /를 사용하는 것으로 `let re = /ab+c/`와 같은 식으로 만든다.
여기서 /사이의 부분이 정규 표현식으로 위는 ab 다음에 c가 오는 경우를 찾는다.
정규식을 만드는 방법은 조금 뒤에 다룬다.
두 번째 방법은 RegExp 함수를 사용하는 것으로 `let re = new RegExp("ab+c")`로 사용한다.

둘의 차이점은 /는 스크립트가 불러와질 때 컴파일 하고, RegExp는 코드 실행 시점에 컴파일 된다는 점이다.
그렇기 때문에 정규식이 상수라면 /를 사용하는 것이 좋다.
반면에 정규식이 변경되는 경우는 RegExp를 사용하는 것이 좋다.
대부분 사용자가 직접 입력하거나, 다른 곳에서 정규식을 가져오는 경우에 RegExp를 사용한다.

다음으로 정규식 작성 방법을 알아보자.
단순하게 /abc/와 같이 작성할 수도 있고, /ab\*c/ 같이 특수 문자를 조합해서 사용할 수 있다.
단순 패턴은 문자를 그대로 대응시킬때 사용한다.
예를 들어서 문자열에서 abc를 찾는 경우에 사용한다.
이는 "abc"를 찾아서 지정하지만, "ab c" 같이 abc를 그대로 포함하지 않는 문자는 찾지 않는다.

특수 문자는 특정한 패턴이 있는 문자열을 찾을 때 사용된다.
예를 들어서 /ab*c/는 ac, abc, abbc, abbbc 같은 패턴을 찾을 때 사용된다.
여기서 *는 앞의 문자가 0개 이상이란 것을 표현하는 것이다.
이 외에도 다양한 특수 문자가 있으며 MDN의 [Regular Expressions](https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Regular_Expressions)에서 리스트를 볼 수 있다.
아래는 그 중 자주 쓰는 것만 정리했다.

| RegExp | Meaning                                                                      |
| ------ | ---------------------------------------------------------------------------- |
| ^x     | 문자열이 x로 시작됨                                                          |
| x$     | 문자열이 x로 끝남                                                            |
| x\*    | x가 0번 이상 반복됨                                                          |
| x+     | x가 1번 이상 반복됨                                                          |
| x?     | x가 0 또는 1번 나옴                                                          |
| .      | 단일 문자와 대응 e.g.) /.n/는 "an", "on"과 대응                              |
| (x)    | 하나의 그룹으로 만듬. 일반적인 괄호 표현과 동일한 의미                       |
| (?:x)  | 하나의 그룹으로 만들지만, 기억하지 않음.                                     |
| x(?=y) | x 뒤에 y가 오는 경우만 찾음                                                  |
| x(?!y) | x 뒤에 y가 없는 경우만 찾음                                                  |
| x\|y   | x 또는 y가 있음                                                              |
| x{n}   | x가 n번 반복됨                                                               |
| x{n,m} | x가 최소 n, 최대 m번 반복됨. m이 생략되면 m=$\infty$로 간주                  |
| [xyz]  | 괄호 안의 어떤 문자와도 대응. -로 범위 지정 가능 e.g.) [a-d]는 [abcd]와 동일 |
| [^xyz] | ^는 not을 의미. 괄호 안의 어떤 문자와도 대응되지 않음                        |

그 외에 \를 사용하면 뒤의 문자를 특수한 방법으로 해석한다.
아래는 \를 사용한 것의 의미다.

| RegExp | Meaning                                                          |
| ------ | ---------------------------------------------------------------- |
| \      | 뒤에 나오는 문자를 특별하게 해석하게 만듬                        |
| \b     | word boundary 문자와 공백 사이의 문자. 검색 결과에 포함되지 않음 |
| \B     | word boundary가 아닌 문자에 대응                                 |
| [\b]   | 백스페이스                                                       |
| \d     | 숫자에 대응. [0-9]와 동일                                        |
| \D     | 숫자가 아닌 경우에 대응. [^0-9]와 동일                           |
| \n     | 줄바꿈                                                           |
| \s     | 공백문자                                                         |
| \S     | 공백 문자가 아닌 한 문자                                         |
| \t     | 탭                                                               |
| \w     | [A-Za-z0-9]와 동일                                               |
| \W     | [^a-za-z0-9]와 동일                                              |

정규 표현식의 끝에 Flag를 추가할 수 있다.
예를 들어서 "/[0-9]/g"와 같이 사용할 수 있다.
각 Flag의 의미는 아래와 같다.

| Flag | Meaning                                       |
| ---- | --------------------------------------------- |
| g    | Global 모든 패턴을 검색                       |
| i    | Ignore Case 문자열의 대소문자를 식별하지 않음 |
| m    | Multi Line 문자열이 다중 라인인 경우도 검색   |

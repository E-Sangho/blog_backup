---
layout: post
title: Fetch API
date: Sun Feb 13 23:23:30 JST 2022
categories:
tag:
toc: true
---

웹에선 서버에 요청을 보내고 정보를 받아오는 일이 빈번하다.
이를 수행하는 방법은 다양한데 그 중에서도 **fetch()**를 소개해보겠다.

> let promise = fetch(url, [options])

-   url: 요청을 보낼 URL
-   [options]: method, header 등을 지정하는 변수

[options]에 아무 내용도 적지 않으면 GET 메소드로 요청이 이뤄지고, 해당 url로 부터 정보를 받아온다.
fetch()는 promise를 반환하는데, promise에는 요청이 성공적으로 처리되었는지를 확인할 수 있지만 아직 요청한 정보가 들어있진 않다.
네트워크 오류나 잘못된 요청일 경우 promise는 잘못된 요청이라는 응답을 보내준다.
이는 HTTP status code라고 불리는 것으로 확인할 수 있다.

fetch()가 반환한 promise는 안에 response를 포함하고 있다.
response를 사용해서 응답 내용을 사용할 수 있는데 아래와 같다.

-   response.text()
-   response.json()
-   response.formData()
-   resopnse.blob()
-   response.arrayBuffer()

그리고 반환된 내용이 프로미스이므로 .then을 사용하거나 async/await을 사용해서 다음 코드를 진행해야 한다.

[options]에 method를 설정해서 POST를 사용할 수도 있다.
그리고 headers에 추가적인 내용을 적어줄 수 있다.
